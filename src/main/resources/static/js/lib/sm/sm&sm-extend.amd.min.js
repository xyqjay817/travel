define(["zepto","smConfig"],function(b,a){b.config=a;
/*!
     * =====================================================
     * SUI Mobile - http://m.sui.taobao.org/
     *
     * =====================================================
     */
b.smVersion="0.6.2";+function(c){var d={autoInit:false,showPageLoadingIndicator:true,router:true,swipePanel:"left",swipePanelOnlyClose:true};c.smConfig=c.extend(d,c.config);}(Zepto);+function(c){c.compareVersion=function(g,e){var f=g.split(".");var h=e.split(".");if(g===e){return 0;}for(var j=0;j<f.length;j++){var d=parseInt(f[j]);if(!h[j]){return 1;}var k=parseInt(h[j]);if(d<k){return -1;}if(d>k){return 1;}}return -1;};c.getCurrentPage=function(){return c(".page-current")[0]||c(".page")[0]||document.body;};}(Zepto);(function(d){["width","height"].forEach(function(f){var e=f.replace(/./,function(g){return g[0].toUpperCase();});d.fn["outer"+e]=function(j){var i=this;if(i){var g=i[f]();var h={width:["left","right"],height:["top","bottom"]};h[f].forEach(function(k){if(j){g+=parseInt(i.css("margin-"+k),10);}});return g;}else{return null;}};});d.support=(function(){var e={touch:!!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e;})();d.touchEvents={start:d.support.touch?"touchstart":"mousedown",move:d.support.touch?"touchmove":"mousemove",end:d.support.touch?"touchend":"mouseup"};d.getTranslate=function(i,h){var e,g,j,f;if(typeof h==="undefined"){h="x";}j=window.getComputedStyle(i,null);if(window.WebKitCSSMatrix){f=new WebKitCSSMatrix(j.webkitTransform==="none"?"":j.webkitTransform);}else{f=j.MozTransform||j.transform||j.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");e=f.toString().split(",");}if(h==="x"){if(window.WebKitCSSMatrix){g=f.m41;}else{if(e.length===16){g=parseFloat(e[12]);}else{g=parseFloat(e[4]);}}}if(h==="y"){if(window.WebKitCSSMatrix){g=f.m42;}else{if(e.length===16){g=parseFloat(e[13]);}else{g=parseFloat(e[5]);}}}return g||0;};d.requestAnimationFrame=function(e){if(requestAnimationFrame){return requestAnimationFrame(e);}else{if(webkitRequestAnimationFrame){return webkitRequestAnimationFrame(e);}else{if(mozRequestAnimationFrame){return mozRequestAnimationFrame(e);}else{return setTimeout(e,1000/60);}}}};d.cancelAnimationFrame=function(e){if(cancelAnimationFrame){return cancelAnimationFrame(e);}else{if(webkitCancelAnimationFrame){return webkitCancelAnimationFrame(e);}else{if(mozCancelAnimationFrame){return mozCancelAnimationFrame(e);}else{return clearTimeout(e);}}}};d.fn.dataset=function(){var h={},g=this[0].dataset;for(var e in g){var f=(h[e]=g[e]);if(f==="false"){h[e]=false;}else{if(f==="true"){h[e]=true;}else{if(parseFloat(f)===f*1){h[e]=f*1;}}}}return d.extend({},h,this[0].__eleData);};d.fn.data=function(g,l){var j=d(this).dataset();if(!g){return j;}if(typeof l==="undefined"){var e=j[g],k=this[0].__eleData;if(k&&(g in k)){return k[g];}else{return e;}}else{for(var f=0;f<this.length;f++){var h=this[f];if(g in j){delete h.dataset[g];}if(!h.__eleData){h.__eleData={};}h.__eleData[g]=l;}return this;}};function c(e,k){var g=e,f,h=this;function j(i){if(i.target!==this){return;}k.call(this,i);for(f=0;f<g.length;f++){h.off(g[f],j);}}if(k){for(f=0;f<g.length;f++){h.on(g[f],j);}}}d.fn.animationEnd=function(e){c.call(this,["webkitAnimationEnd","animationend"],e);return this;};d.fn.transitionEnd=function(e){c.call(this,["webkitTransitionEnd","transitionend"],e);return this;};d.fn.transition=function(g){if(typeof g!=="string"){g=g+"ms";}for(var f=0;f<this.length;f++){var e=this[f].style;e.webkitTransitionDuration=e.MozTransitionDuration=e.transitionDuration=g;}return this;};d.fn.transform=function(e){for(var g=0;g<this.length;g++){var f=this[g].style;f.webkitTransform=f.MozTransform=f.transform=e;}return this;};d.fn.prevAll=function(e){var g=[];var f=this[0];if(!f){return d([]);}while(f.previousElementSibling){var h=f.previousElementSibling;if(e){if(d(h).is(e)){g.push(h);}}else{g.push(h);}f=h;}return d(g);};d.fn.nextAll=function(f){var e=[];var h=this[0];if(!h){return d([]);}while(h.nextElementSibling){var g=h.nextElementSibling;if(f){if(d(g).is(f)){e.push(g);}}else{e.push(g);}h=g;}return d(e);};d.fn.show=function(){var f={};function e(i){var g,h;if(!f[i]){g=document.createElement(i);document.body.appendChild(g);h=getComputedStyle(g,"").getPropertyValue("display");g.parentNode.removeChild(g);h==="none"&&(h="block");f[i]=h;}return f[i];}return this.each(function(){this.style.display==="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")==="none"){}this.style.display=e(this.nodeName);});};})(Zepto);(function(k){var f={};var e=navigator.userAgent;var h=e.match(/(Android);?[\s\/]+([\d.]+)?/);var o=e.match(/(iPad).*OS\s([\d_]+)/);var p=e.match(/(iPod)(.*OS\s([\d_]+))?/);var n=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/);f.ios=f.android=f.iphone=f.ipad=f.androidChrome=false;if(h){f.os="android";f.osVersion=h[2];f.android=true;f.androidChrome=e.toLowerCase().indexOf("chrome")>=0;}if(o||n||p){f.os="ios";f.ios=true;}if(n&&!p){f.osVersion=n[2].replace(/_/g,".");f.iphone=true;}if(o){f.osVersion=o[2].replace(/_/g,".");f.ipad=true;}if(p){f.osVersion=p[3]?p[3].replace(/_/g,"."):null;f.iphone=true;}if(f.ios&&f.osVersion&&e.indexOf("Version/")>=0){if(f.osVersion.split(".")[0]==="10"){f.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0];}}f.webView=(n||o||p)&&e.match(/.*AppleWebKit(?!.*Safari)/i);if(f.os&&f.os==="ios"){var l=f.osVersion.split(".");f.minimalUi=!f.webView&&(p||n)&&(l[0]*1===7?l[1]*1>=1:l[0]*1>7)&&k('meta[name="viewport"]').length>0&&k('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0;}var g=k(window).width();var d=k(window).height();f.statusBar=false;if(f.webView&&(g*d===screen.width*screen.height)){f.statusBar=true;}else{f.statusBar=false;}var c=[];f.pixelRatio=window.devicePixelRatio||1;c.push("pixel-ratio-"+Math.floor(f.pixelRatio));if(f.pixelRatio>=2){c.push("retina");}if(f.os){c.push(f.os,f.os+"-"+f.osVersion.split(".")[0],f.os+"-"+f.osVersion.replace(/\./g,"-"));if(f.os==="ios"){var m=parseInt(f.osVersion.split(".")[0],10);for(var j=m-1;j>=6;j--){c.push("ios-gt-"+j);}}}if(f.statusBar){c.push("with-statusbar-overlay");}else{k("html").removeClass("with-statusbar-overlay");}if(c.length>0){k("html").addClass(c.join(" "));}f.isWeixin=/MicroMessenger/i.test(e);k.device=f;})(Zepto);(function(){function g(q,n){var r;n=n||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=n.touchBoundary||10;this.layer=q;this.tapDelay=n.tapDelay||200;this.tapTimeout=n.tapTimeout||700;if(g.notNeeded(q)){return;}function s(t,l){return function(){return t.apply(l,arguments);};}var m=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var p=this;for(var o=0,k=m.length;o<k;o++){p[m[o]]=s(p[m[o]],p);}if(e){q.addEventListener("mouseover",this.onMouse,true);q.addEventListener("mousedown",this.onMouse,true);q.addEventListener("mouseup",this.onMouse,true);}q.addEventListener("click",this.onClick,true);q.addEventListener("touchstart",this.onTouchStart,false);q.addEventListener("touchmove",this.onTouchMove,false);q.addEventListener("touchend",this.onTouchEnd,false);q.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){q.removeEventListener=function(t,v,l){var u=Node.prototype.removeEventListener;if(t==="click"){u.call(q,t,v.hijacked||v,l);}else{u.call(q,t,v,l);}};q.addEventListener=function(u,v,t){var l=Node.prototype.addEventListener;if(u==="click"){l.call(q,u,v.hijacked||(v.hijacked=function(w){if(!w.propagationStopped){v(w);}}),t);}else{l.call(q,u,v,t);}};}if(typeof q.onclick==="function"){r=q.onclick;q.addEventListener("click",function(l){r(l);},false);q.onclick=null;}}var f=navigator.userAgent.indexOf("Windows Phone")>=0;var e=navigator.userAgent.indexOf("Android")>0&&!f;var j=/iP(ad|hone|od)/.test(navigator.userAgent)&&!f;var h=j&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var i=j&&(/OS [6-7]_\d/).test(navigator.userAgent);var d=navigator.userAgent.indexOf("BB10")>0;var c=false;g.prototype.needsClick=function(l){var k=l;while(k&&(k.tagName.toUpperCase()!=="BODY")){if(k.tagName.toUpperCase()==="LABEL"){c=true;if((/\bneedsclick\b/).test(k.className)){return true;}}k=k.parentNode;}switch(l.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(l.disabled){return true;}break;case"input":if((j&&l.type==="file")||l.disabled){return true;}break;case"label":case"iframe":case"video":return true;}return(/\bneedsclick\b/).test(l.className);};g.prototype.needsFocus=function(k){switch(k.nodeName.toLowerCase()){case"textarea":return true;case"select":return !e;case"input":switch(k.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false;}return !k.disabled&&!k.readOnly;default:return(/\bneedsfocus\b/).test(k.className);}};g.prototype.sendClick=function(l,m){var k,n;if(document.activeElement&&document.activeElement!==l){document.activeElement.blur();}n=m.changedTouches[0];k=document.createEvent("MouseEvents");k.initMouseEvent(this.determineEventType(l),true,true,window,1,n.screenX,n.screenY,n.clientX,n.clientY,false,false,false,false,0,null);k.forwardedTouchEvent=true;l.dispatchEvent(k);};g.prototype.determineEventType=function(k){if(e&&k.tagName.toLowerCase()==="select"){return"mousedown";}return"click";};g.prototype.focus=function(l){var m;var k=["date","time","month","number","email"];if(j&&l.setSelectionRange&&k.indexOf(l.type)===-1){m=l.value.length;l.setSelectionRange(m,m);}else{l.focus();}};g.prototype.updateScrollParent=function(l){var m,k;m=l.fastClickScrollParent;if(!m||!m.contains(l)){k=l;do{if(k.scrollHeight>k.offsetHeight){m=k;l.fastClickScrollParent=k;break;}k=k.parentElement;}while(k);}if(m){m.fastClickLastScrollTop=m.scrollTop;}};g.prototype.getTargetElementFromEventTarget=function(k){if(k.nodeType===Node.TEXT_NODE){return k.parentNode;}return k;};g.prototype.onTouchStart=function(m){var k,n,l;if(m.targetTouches.length>1){return true;}k=this.getTargetElementFromEventTarget(m.target);n=m.targetTouches[0];if(j){l=window.getSelection();if(l.rangeCount&&!l.isCollapsed){return true;}if(!h){if(n.identifier&&n.identifier===this.lastTouchIdentifier){m.preventDefault();return false;}this.lastTouchIdentifier=n.identifier;this.updateScrollParent(k);}}this.trackingClick=true;this.trackingClickStart=m.timeStamp;this.targetElement=k;this.touchStartX=n.pageX;this.touchStartY=n.pageY;if((m.timeStamp-this.lastClickTime)<this.tapDelay){m.preventDefault();}return true;};g.prototype.touchHasMoved=function(k){var m=k.changedTouches[0],l=this.touchBoundary;if(Math.abs(m.pageX-this.touchStartX)>l||Math.abs(m.pageY-this.touchStartY)>l){return true;}return false;};g.prototype.onTouchMove=function(k){if(!this.trackingClick){return true;}if(this.targetElement!==this.getTargetElementFromEventTarget(k.target)||this.touchHasMoved(k)){this.trackingClick=false;this.targetElement=null;}return true;};g.prototype.findControl=function(k){if(k.control!==undefined){return k.control;}if(k.htmlFor){return document.getElementById(k.htmlFor);}return k.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea");};g.prototype.onTouchEnd=function(n){var p,o,m,r,q,l=this.targetElement;if(!this.trackingClick){return true;}if((n.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true;}if((n.timeStamp-this.trackingClickStart)>this.tapTimeout){return true;}var k=["date","time","month"];if(k.indexOf(n.target.type)!==-1){return false;}this.cancelNextClick=false;this.lastClickTime=n.timeStamp;o=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(i){q=n.changedTouches[0];l=document.elementFromPoint(q.pageX-window.pageXOffset,q.pageY-window.pageYOffset)||l;l.fastClickScrollParent=this.targetElement.fastClickScrollParent;}m=l.tagName.toLowerCase();if(m==="label"){p=this.findControl(l);if(p){this.focus(l);if(e){return false;}l=p;}}else{if(this.needsFocus(l)){if((n.timeStamp-o)>100||(j&&window.top!==window&&m==="input")){this.targetElement=null;return false;}this.focus(l);this.sendClick(l,n);if(!j||m!=="select"){this.targetElement=null;n.preventDefault();}return false;}}if(j&&!h){r=l.fastClickScrollParent;if(r&&r.fastClickLastScrollTop!==r.scrollTop){return true;}}if(!this.needsClick(l)){n.preventDefault();this.sendClick(l,n);}return false;};g.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null;};g.prototype.onMouse=function(k){if(!this.targetElement){return true;}if(k.forwardedTouchEvent){return true;}if(!k.cancelable){return true;}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(k.stopImmediatePropagation){k.stopImmediatePropagation();}else{k.propagationStopped=true;}k.stopPropagation();if(!c){k.preventDefault();}return false;}return true;};g.prototype.onClick=function(k){var l;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true;}if(k.target.type==="submit"&&k.detail===0){return true;}l=this.onMouse(k);if(!l){this.targetElement=null;}return l;};g.prototype.destroy=function(){var k=this.layer;if(e){k.removeEventListener("mouseover",this.onMouse,true);k.removeEventListener("mousedown",this.onMouse,true);k.removeEventListener("mouseup",this.onMouse,true);}k.removeEventListener("click",this.onClick,true);k.removeEventListener("touchstart",this.onTouchStart,false);k.removeEventListener("touchmove",this.onTouchMove,false);k.removeEventListener("touchend",this.onTouchEnd,false);k.removeEventListener("touchcancel",this.onTouchCancel,false);};g.notNeeded=function(l){var k;var o;var n;var m;if(typeof window.ontouchstart==="undefined"){return true;}o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(o){if(e){k=document.querySelector("meta[name=viewport]");if(k){if(k.content.indexOf("user-scalable=no")!==-1){return true;}if(o>31&&document.documentElement.scrollWidth<=window.outerWidth){return true;}}}else{return true;}}if(d){n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(n[1]>=10&&n[2]>=3){k=document.querySelector("meta[name=viewport]");if(k){if(k.content.indexOf("user-scalable=no")!==-1){return true;}if(document.documentElement.scrollWidth<=window.outerWidth){return true;}}}}if(l.style.msTouchAction==="none"||l.style.touchAction==="manipulation"){return true;}m=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(m>=27){k=document.querySelector("meta[name=viewport]");if(k&&(k.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true;}}if(l.style.touchAction==="none"||l.style.touchAction==="manipulation"){return true;}return false;};g.attach=function(l,k){return new g(l,k);};window.FastClick=g;}());+function(c){var f=document.createElement("div");c.modalStack=[];c.modalStackClearQueue=function(){if(c.modalStack.length){(c.modalStack.shift())();}};c.modal=function(m){m=m||{};var n="";var k="";if(m.buttons&&m.buttons.length>0){for(var o=0;o<m.buttons.length;o++){k+='<span class="modal-button'+(m.buttons[o].bold?" modal-button-bold":"")+'">'+m.buttons[o].text+"</span>";}}var l=m.extraClass||"";var j=m.title?'<div class="modal-title">'+m.title+"</div>":"";var g=m.text?'<div class="modal-text">'+m.text+"</div>":"";var p=m.afterText?m.afterText:"";var r=!m.buttons||m.buttons.length===0?"modal-no-buttons":"";var h=m.verticalButtons?"modal-buttons-vertical":"";n='<div class="modal '+l+" "+r+'"><div class="modal-inner">'+(j+g+p)+'</div><div class="modal-buttons '+h+'">'+k+"</div></div>";f.innerHTML=n;var q=c(f).children();c(d.modalContainer).append(q[0]);q.find(".modal-button").each(function(i,s){c(s).on("click",function(t){if(m.buttons[i].close!==false){c.closeModal(q);}if(m.buttons[i].onClick){m.buttons[i].onClick(q,t);}if(m.onClick){m.onClick(q,i);}});});c.openModal(q);return q[0];};c.alert=function(i,h,g){if(typeof h==="function"){g=arguments[1];h=undefined;}return c.modal({text:i||"",title:typeof h==="undefined"?d.modalTitle:h,buttons:[{text:d.modalButtonOk,bold:true,onClick:g}]});};c.confirm=function(i,h,g,j){if(typeof h==="function"){j=arguments[2];g=arguments[1];h=undefined;}return c.modal({text:i||"",title:typeof h==="undefined"?d.modalTitle:h,buttons:[{text:d.modalButtonCancel,onClick:j},{text:d.modalButtonOk,bold:true,onClick:g}]});};c.prompt=function(i,h,g,j){if(typeof h==="function"){j=arguments[2];g=arguments[1];h=undefined;}return c.modal({text:i||"",title:typeof h==="undefined"?d.modalTitle:h,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:d.modalButtonCancel},{text:d.modalButtonOk,bold:true}],onClick:function(l,k){if(k===0&&j){j(c(l).find(".modal-text-input").val());}if(k===1&&g){g(c(l).find(".modal-text-input").val());}}});};c.modalLogin=function(i,h,g,j){if(typeof h==="function"){j=arguments[2];g=arguments[1];h=undefined;}return c.modal({text:i||"",title:typeof h==="undefined"?d.modalTitle:h,afterText:'<input type="text" name="modal-username" placeholder="'+d.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+d.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:d.modalButtonCancel},{text:d.modalButtonOk,bold:true}],onClick:function(m,l){var n=c(m).find('.modal-text-input[name="modal-username"]').val();var k=c(m).find('.modal-text-input[name="modal-password"]').val();if(l===0&&j){j(n,k);}if(l===1&&g){g(n,k);}}});};c.modalPassword=function(i,h,g,j){if(typeof h==="function"){j=arguments[2];g=arguments[1];h=undefined;}return c.modal({text:i||"",title:typeof h==="undefined"?d.modalTitle:h,afterText:'<input type="password" name="modal-password" placeholder="'+d.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:d.modalButtonCancel},{text:d.modalButtonOk,bold:true}],onClick:function(m,l){var k=c(m).find('.modal-text-input[name="modal-password"]').val();if(l===0&&j){j(k);}if(l===1&&g){g(k);}}});};c.showPreloader=function(g){c.hidePreloader();c.showPreloader.preloaderModal=c.modal({title:g||d.modalPreloaderTitle,text:'<div class="preloader"></div>'});return c.showPreloader.preloaderModal;};c.hidePreloader=function(){c.showPreloader.preloaderModal&&c.closeModal(c.showPreloader.preloaderModal);};c.showIndicator=function(){if(c(".preloader-indicator-modal")[0]){return;}c(d.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>');};c.hideIndicator=function(){c(".preloader-indicator-overlay, .preloader-indicator-modal").remove();};c.actions=function(l){var q,g,s;l=l||[];if(l.length>0&&!c.isArray(l[0])){l=[l];}var m;var k="";for(var o=0;o<l.length;o++){for(var n=0;n<l[o].length;n++){if(n===0){k+='<div class="actions-modal-group">';}var p=l[o][n];var r=p.label?"actions-modal-label":"actions-modal-button";if(p.bold){r+=" actions-modal-button-bold";}if(p.color){r+=" color-"+p.color;}if(p.bg){r+=" bg-"+p.bg;}if(p.disabled){r+=" disabled";}k+='<span class="'+r+'">'+p.text+"</span>";if(n===l[o].length-1){k+="</div>";}}}m='<div class="actions-modal">'+k+"</div>";f.innerHTML=m;q=c(f).children();c(d.modalContainer).append(q[0]);g=".actions-modal-group";s=".actions-modal-button";var h=q.find(g);h.each(function(i,j){var t=i;c(j).children().each(function(v,w){var y=v;var x=l[t][y];var u;if(c(w).is(s)){u=c(w);}if(u){u.on("click",function(z){if(x.close!==false){c.closeModal(q);}if(x.onClick){x.onClick(q,z);}});}});});c.openModal(q);return q[0];};c.popup=function(h,i){if(typeof i==="undefined"){i=true;}if(typeof h==="string"&&h.indexOf("<")>=0){var g=document.createElement("div");g.innerHTML=h.trim();if(g.childNodes.length>0){h=g.childNodes[0];if(i){h.classList.add("remove-on-close");}c(d.modalContainer).append(h);}else{return false;}}h=c(h);if(h.length===0){return false;}h.show();h.find(".content").scroller("refresh");if(h.find("."+d.viewClass).length>0){c.sizeNavbars(h.find("."+d.viewClass)[0]);}c.openModal(h);return h[0];};c.pickerModal=function(h,g){if(typeof g==="undefined"){g=true;}if(typeof h==="string"&&h.indexOf("<")>=0){h=c(h);if(h.length>0){if(g){h.addClass("remove-on-close");}c(d.modalContainer).append(h[0]);}else{return false;}}h=c(h);if(h.length===0){return false;}h.show();c.openModal(h);return h[0];};c.loginScreen=function(g){if(!g){g=".login-screen";}g=c(g);if(g.length===0){return false;}g.show();if(g.find("."+d.viewClass).length>0){c.sizeNavbars(g.find("."+d.viewClass)[0]);}c.openModal(g);return g[0];};c.toast=function(j,i,g){var h=c('<div class="modal toast '+(g||"")+'">'+j+"</div>").appendTo(document.body);c.openModal(h,function(){setTimeout(function(){c.closeModal(h);},i||2000);});};c.openModal=function(n,g){n=c(n);var m=n.hasClass("modal"),k=!n.hasClass("toast");if(c(".modal.modal-in:not(.modal-out)").length&&d.modalStack&&m&&k){c.modalStack.push(function(){c.openModal(n,g);});return;}var p=n.hasClass("popup");var i=n.hasClass("login-screen");var j=n.hasClass("picker-modal");var o=n.hasClass("toast");if(m){n.show();n.css({marginTop:-Math.round(n.outerHeight()/2)+"px"});}if(o){n.css({marginLeft:-Math.round(n.outerWidth()/2/1.185)+"px"});}var h;if(!i&&!j&&!o){if(c(".modal-overlay").length===0&&!p){c(d.modalContainer).append('<div class="modal-overlay"></div>');}if(c(".popup-overlay").length===0&&p){c(d.modalContainer).append('<div class="popup-overlay"></div>');}h=p?c(".popup-overlay"):c(".modal-overlay");}var l=n[0].clientLeft;n.trigger("open");if(j){c(d.modalContainer).addClass("with-picker-modal");}if(!i&&!j&&!o){h.addClass("modal-overlay-visible");}n.removeClass("modal-out").addClass("modal-in").transitionEnd(function(q){if(n.hasClass("modal-out")){n.trigger("closed");}else{n.trigger("opened");}});if(typeof g==="function"){g.call(this);}return true;};c.closeModal=function(k){k=c(k||".modal-in");if(typeof k!=="undefined"&&k.length===0){return;}var n=k.hasClass("modal"),j=k.hasClass("popup"),g=k.hasClass("toast"),m=k.hasClass("login-screen"),i=k.hasClass("picker-modal"),l=k.hasClass("remove-on-close"),h=j?c(".popup-overlay"):c(".modal-overlay");if(j){if(k.length===c(".popup.modal-in").length){h.removeClass("modal-overlay-visible");}}else{if(!(i||g)){h.removeClass("modal-overlay-visible");}}k.trigger("close");if(i){c(d.modalContainer).removeClass("with-picker-modal");c(d.modalContainer).addClass("picker-modal-closing");}k.removeClass("modal-in").addClass("modal-out").transitionEnd(function(o){if(k.hasClass("modal-out")){k.trigger("closed");}else{k.trigger("opened");}if(i){c(d.modalContainer).removeClass("picker-modal-closing");}if(j||m||i){k.removeClass("modal-out").hide();if(l&&k.length>0){k.remove();}}else{k.remove();}});if(n&&d.modalStack){c.modalStackClearQueue();}return true;};function e(k){var j=c(this);var h=j.attr("href");var i=j.dataset();var g;if(j.hasClass("open-popup")){if(i.popup){g=i.popup;}else{g=".popup";}c.popup(g);}if(j.hasClass("close-popup")){if(i.popup){g=i.popup;}else{g=".popup.modal-in";}c.closeModal(g);}if(j.hasClass("modal-overlay")){if(c(".modal.modal-in").length>0&&d.modalCloseByOutside){c.closeModal(".modal.modal-in");}if(c(".actions-modal.modal-in").length>0&&d.actionsCloseByOutside){c.closeModal(".actions-modal.modal-in");}}if(j.hasClass("popup-overlay")){if(c(".popup.modal-in").length>0&&d.popupCloseByOutside){c.closeModal(".popup.modal-in");}}}c(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .close-picker",e);var d=c.modal.prototype.defaults={modalStack:true,modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"加载中",modalContainer:document.body};}(Zepto);+function(c){var d=false;var e=function(i){var f=this;var j={monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:false,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:true,animate:true,closeOnSelect:true,monthPicker:true,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:true,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:true,scrollToInput:true,inputReadOnly:true,toolbar:true,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>',};i=i||{};for(var h in j){if(typeof i[h]==="undefined"){i[h]=j[h];}}f.params=i;f.initialized=false;f.inline=f.params.container?true:false;f.isH=f.params.direction==="horizontal";var k=f.isH?(d?-1:1):1;f.animating=false;function m(r){r=new Date(r);var s=r.getFullYear();var t=r.getMonth();var o=t+1;var p=r.getDate();var q=r.getDay();return f.params.dateFormat.replace(/yyyy/g,s).replace(/yy/g,(s+"").substring(2)).replace(/mm/g,o<10?"0"+o:o).replace(/m/g,o).replace(/MM/g,f.params.monthNames[t]).replace(/M/g,f.params.monthNamesShort[t]).replace(/dd/g,p<10?"0"+p:p).replace(/d/g,p).replace(/DD/g,f.params.dayNames[q]).replace(/D/g,f.params.dayNamesShort[q]);}f.addValue=function(q){if(f.params.multiple){if(!f.value){f.value=[];}var p;for(var o=0;o<f.value.length;o++){if(new Date(q).getTime()===new Date(f.value[o]).getTime()){p=o;}}if(typeof p==="undefined"){f.value.push(q);}else{f.value.splice(p,1);}f.updateValue();}else{f.value=[q];f.updateValue();}};f.setValue=function(o){f.value=o;f.updateValue();};f.updateValue=function(){f.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var p,o;for(p=0;p<f.value.length;p++){var q=new Date(f.value[p]);f.wrapper.find('.picker-calendar-day[data-date="'+q.getFullYear()+"-"+q.getMonth()+"-"+q.getDate()+'"]').addClass("picker-calendar-day-selected");}if(f.params.onChange){f.params.onChange(f,f.value,f.value.map(m));}if(f.input&&f.input.length>0){if(f.params.formatValue){o=f.params.formatValue(f,f.value);}else{o=[];for(p=0;p<f.value.length;p++){o.push(m(f.value[p]));}o=o.join(", ");}c(f.input).val(o);c(f.input).trigger("change");}};f.initCalendarEvents=function(){var p;var A=true;var D,u,H,F,r,q,s,E,G,x,o,B,w,z,I;function t(J){if(u||D){return;}D=true;H=q=J.type==="touchstart"?J.targetTouches[0].pageX:J.pageX;F=q=J.type==="touchstart"?J.targetTouches[0].pageY:J.pageY;s=(new Date()).getTime();w=0;A=true;I=undefined;G=x=f.monthsTranslate;}function v(J){if(!D){return;}r=J.type==="touchmove"?J.targetTouches[0].pageX:J.pageX;q=J.type==="touchmove"?J.targetTouches[0].pageY:J.pageY;if(typeof I==="undefined"){I=!!(I||Math.abs(q-F)>Math.abs(r-H));}if(f.isH&&I){D=false;return;}J.preventDefault();if(f.animating){D=false;return;}A=false;if(!u){u=true;o=f.wrapper[0].offsetWidth;B=f.wrapper[0].offsetHeight;f.wrapper.transition(0);}J.preventDefault();z=f.isH?r-H:q-F;w=z/(f.isH?o:B);x=(f.monthsTranslate*k+w)*100;f.wrapper.transform("translate3d("+(f.isH?x:0)+"%, "+(f.isH?0:x)+"%, 0)");}function y(J){if(!D||!u){D=u=false;return;}D=u=false;E=new Date().getTime();if(E-s<300){if(Math.abs(z)<10){f.resetMonth();}else{if(z>=10){if(d){f.nextMonth();}else{f.prevMonth();}}else{if(d){f.prevMonth();}else{f.nextMonth();}}}}else{if(w<=-0.5){if(d){f.prevMonth();}else{f.nextMonth();}}else{if(w>=0.5){if(d){f.nextMonth();}else{f.prevMonth();}}else{f.resetMonth();}}}setTimeout(function(){A=true;},100);}function C(N){if(!A){return;}var J=c(N.target).parents(".picker-calendar-day");if(J.length===0&&c(N.target).hasClass("picker-calendar-day")){J=c(N.target);}if(J.length===0){return;}if(J.hasClass("picker-calendar-day-selected")&&!f.params.multiple){return;}if(J.hasClass("picker-calendar-day-disabled")){return;}if(J.hasClass("picker-calendar-day-next")){f.nextMonth();}if(J.hasClass("picker-calendar-day-prev")){f.prevMonth();}var K=J.attr("data-year");var L=J.attr("data-month");var M=J.attr("data-day");if(f.params.onDayClick){f.params.onDayClick(f,J[0],K,L,M);}f.addValue(new Date(K,L,M).getTime());if(f.params.closeOnSelect){f.close();}}f.container.find(".picker-calendar-prev-month").on("click",f.prevMonth);f.container.find(".picker-calendar-next-month").on("click",f.nextMonth);f.container.find(".picker-calendar-prev-year").on("click",f.prevYear);f.container.find(".picker-calendar-next-year").on("click",f.nextYear);f.wrapper.on("click",C);if(f.params.touchMove){f.wrapper.on(c.touchEvents.start,t);f.wrapper.on(c.touchEvents.move,v);f.wrapper.on(c.touchEvents.end,y);}f.container[0].f7DestroyCalendarEvents=function(){f.container.find(".picker-calendar-prev-month").off("click",f.prevMonth);f.container.find(".picker-calendar-next-month").off("click",f.nextMonth);f.container.find(".picker-calendar-prev-year").off("click",f.prevYear);f.container.find(".picker-calendar-next-year").off("click",f.nextYear);f.wrapper.off("click",C);if(f.params.touchMove){f.wrapper.off(c.touchEvents.start,t);f.wrapper.off(c.touchEvents.move,v);f.wrapper.off(c.touchEvents.end,y);}};};f.destroyCalendarEvents=function(o){if("f7DestroyCalendarEvents" in f.container[0]){f.container[0].f7DestroyCalendarEvents();}};f.daysInMonth=function(o){var p=new Date(o);return new Date(p.getFullYear(),p.getMonth()+1,0).getDate();};f.monthHTML=function(K,u){K=new Date(K);var B=K.getFullYear(),L=K.getMonth(),H=K.getDate();if(u==="next"){if(L===11){K=new Date(B+1,0);}else{K=new Date(B,L+1,1);}}if(u==="prev"){if(L===0){K=new Date(B-1,11);}else{K=new Date(B,L-1,1);}}if(u==="next"||u==="prev"){L=K.getMonth();B=K.getFullYear();}var C=f.daysInMonth(new Date(K.getFullYear(),K.getMonth()).getTime()-10*24*60*60*1000),o=f.daysInMonth(K),F=new Date(K.getFullYear(),K.getMonth()).getDay();if(F===0){F=7;}var E,p=[],I,G,x=6,z=7,M="",D=0+(f.params.firstDay-1),J=new Date().setHours(0,0,0,0),w=f.params.minDate?new Date(f.params.minDate).getTime():null,y=f.params.maxDate?new Date(f.params.maxDate).getTime():null;if(f.value&&f.value.length){for(I=0;I<f.value.length;I++){p.push(new Date(f.value[I]).setHours(0,0,0,0));}}for(I=1;I<=x;I++){var N="";var v=I;for(G=1;G<=z;G++){var s=G;D++;var r=D-F;var A="";if(r<0){r=C+r+1;A+=" picker-calendar-day-prev";E=new Date(L-1<0?B-1:B,L-1<0?11:L-1,r).getTime();}else{r=r+1;if(r>o){r=r-o;A+=" picker-calendar-day-next";E=new Date(L+1>11?B+1:B,L+1>11?0:L+1,r).getTime();}else{E=new Date(B,L,r).getTime();}}if(E===J){A+=" picker-calendar-day-today";}if(p.indexOf(E)>=0){A+=" picker-calendar-day-selected";}if(f.params.weekendDays.indexOf(s-1)>=0){A+=" picker-calendar-day-weekend";}if((w&&E<w)||(y&&E>y)){A+=" picker-calendar-day-disabled";}E=new Date(E);var t=E.getFullYear();var q=E.getMonth();N+='<div data-year="'+t+'" data-month="'+q+'" data-day="'+r+'" class="picker-calendar-day'+(A)+'" data-date="'+(t+"-"+q+"-"+r)+'"><span>'+r+"</span></div>";}M+='<div class="picker-calendar-row">'+N+"</div>";}M='<div class="picker-calendar-month" data-year="'+B+'" data-month="'+L+'">'+M+"</div>";return M;};f.animating=false;f.updateCurrentMonthYear=function(o){if(typeof o==="undefined"){f.currentMonth=parseInt(f.months.eq(1).attr("data-month"),10);f.currentYear=parseInt(f.months.eq(1).attr("data-year"),10);}else{f.currentMonth=parseInt(f.months.eq(o==="next"?(f.months.length-1):0).attr("data-month"),10);f.currentYear=parseInt(f.months.eq(o==="next"?(f.months.length-1):0).attr("data-year"),10);}f.container.find(".current-month-value").text(f.params.monthNames[f.currentMonth]);f.container.find(".current-year-value").text(f.currentYear);};f.onMonthChangeStart=function(p){f.updateCurrentMonthYear(p);f.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var o=p==="next"?f.months.length-1:0;f.months.eq(o).addClass("picker-calendar-month-current");f.months.eq(p==="next"?o-1:o+1).addClass(p==="next"?"picker-calendar-month-prev":"picker-calendar-month-next");if(f.params.onMonthYearChangeStart){f.params.onMonthYearChangeStart(f,f.currentYear,f.currentMonth);}};f.onMonthChangeEnd=function(o,s){f.animating=false;var r,p,q;f.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove();if(typeof o==="undefined"){o="next";s=true;}if(!s){q=f.monthHTML(new Date(f.currentYear,f.currentMonth),o);}else{f.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove();p=f.monthHTML(new Date(f.currentYear,f.currentMonth),"prev");r=f.monthHTML(new Date(f.currentYear,f.currentMonth),"next");}if(o==="next"||s){f.wrapper.append(q||r);}if(o==="prev"||s){f.wrapper.prepend(q||p);}f.months=f.wrapper.find(".picker-calendar-month");f.setMonthsTranslate(f.monthsTranslate);if(f.params.onMonthAdd){f.params.onMonthAdd(f,o==="next"?f.months.eq(f.months.length-1)[0]:f.months.eq(0)[0]);}if(f.params.onMonthYearChangeEnd){f.params.onMonthYearChangeEnd(f,f.currentYear,f.currentMonth);}};f.setMonthsTranslate=function(r){r=r||f.monthsTranslate||0;if(typeof f.monthsTranslate==="undefined"){f.monthsTranslate=r;}f.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var p=-(r+1)*100*k;var q=-r*100*k;var o=-(r-1)*100*k;f.months.eq(0).transform("translate3d("+(f.isH?p:0)+"%, "+(f.isH?0:p)+"%, 0)").addClass("picker-calendar-month-prev");f.months.eq(1).transform("translate3d("+(f.isH?q:0)+"%, "+(f.isH?0:q)+"%, 0)").addClass("picker-calendar-month-current");f.months.eq(2).transform("translate3d("+(f.isH?o:0)+"%, "+(f.isH?0:o)+"%, 0)").addClass("picker-calendar-month-next");};f.nextMonth=function(t){if(typeof t==="undefined"||typeof t==="object"){t="";if(!f.params.animate){t=0;}}var s=parseInt(f.months.eq(f.months.length-1).attr("data-month"),10);var u=parseInt(f.months.eq(f.months.length-1).attr("data-year"),10);var q=new Date(u,s);var p=q.getTime();var v=f.animating?false:true;if(f.params.maxDate){if(p>new Date(f.params.maxDate).getTime()){return f.resetMonth();}}f.monthsTranslate--;if(s===f.currentMonth){var w=-(f.monthsTranslate)*100*k;var r=c(f.monthHTML(p,"next")).transform("translate3d("+(f.isH?w:0)+"%, "+(f.isH?0:w)+"%, 0)").addClass("picker-calendar-month-next");f.wrapper.append(r[0]);f.months=f.wrapper.find(".picker-calendar-month");if(f.params.onMonthAdd){f.params.onMonthAdd(f,f.months.eq(f.months.length-1)[0]);}}f.animating=true;f.onMonthChangeStart("next");var o=(f.monthsTranslate*100)*k;f.wrapper.transition(t).transform("translate3d("+(f.isH?o:0)+"%, "+(f.isH?0:o)+"%, 0)");if(v){f.wrapper.transitionEnd(function(){f.onMonthChangeEnd("next");});}if(!f.params.animate){f.onMonthChangeEnd("next");}};f.prevMonth=function(u){if(typeof u==="undefined"||typeof u==="object"){u="";if(!f.params.animate){u=0;}}var q=parseInt(f.months.eq(0).attr("data-month"),10);var t=parseInt(f.months.eq(0).attr("data-year"),10);var o=new Date(t,q+1,-1);var v=o.getTime();var w=f.animating?false:true;if(f.params.minDate){if(v<new Date(f.params.minDate).getTime()){return f.resetMonth();}}f.monthsTranslate++;if(q===f.currentMonth){var r=-(f.monthsTranslate)*100*k;var s=c(f.monthHTML(v,"prev")).transform("translate3d("+(f.isH?r:0)+"%, "+(f.isH?0:r)+"%, 0)").addClass("picker-calendar-month-prev");f.wrapper.prepend(s[0]);f.months=f.wrapper.find(".picker-calendar-month");if(f.params.onMonthAdd){f.params.onMonthAdd(f,f.months.eq(0)[0]);}}f.animating=true;f.onMonthChangeStart("prev");var p=(f.monthsTranslate*100)*k;f.wrapper.transition(u).transform("translate3d("+(f.isH?p:0)+"%, "+(f.isH?0:p)+"%, 0)");if(w){f.wrapper.transitionEnd(function(){f.onMonthChangeEnd("prev");});}if(!f.params.animate){f.onMonthChangeEnd("prev");}};f.resetMonth=function(p){if(typeof p==="undefined"){p="";}var o=(f.monthsTranslate*100)*k;f.wrapper.transition(p).transform("translate3d("+(f.isH?o:0)+"%, "+(f.isH?0:o)+"%, 0)");};f.setYearMonth=function(u,r,t){if(typeof u==="undefined"){u=f.currentYear;}if(typeof r==="undefined"){r=f.currentMonth;}if(typeof t==="undefined"||typeof t==="object"){t="";if(!f.params.animate){t=0;}}var s;if(u<f.currentYear){s=new Date(u,r+1,-1).getTime();}else{s=new Date(u,r).getTime();}if(f.params.maxDate&&s>new Date(f.params.maxDate).getTime()){return false;}if(f.params.minDate&&s<new Date(f.params.minDate).getTime()){return false;}var o=new Date(f.currentYear,f.currentMonth).getTime();var q=s>o?"next":"prev";var w=f.monthHTML(new Date(u,r));f.monthsTranslate=f.monthsTranslate||0;var y=f.monthsTranslate;var x,p;var v=f.animating?false:true;if(s>o){f.monthsTranslate--;if(!f.animating){f.months.eq(f.months.length-1).remove();}f.wrapper.append(w);f.months=f.wrapper.find(".picker-calendar-month");x=-(y-1)*100*k;f.months.eq(f.months.length-1).transform("translate3d("+(f.isH?x:0)+"%, "+(f.isH?0:x)+"%, 0)").addClass("picker-calendar-month-next");}else{f.monthsTranslate++;if(!f.animating){f.months.eq(0).remove();}f.wrapper.prepend(w);f.months=f.wrapper.find(".picker-calendar-month");x=-(y+1)*100*k;f.months.eq(0).transform("translate3d("+(f.isH?x:0)+"%, "+(f.isH?0:x)+"%, 0)").addClass("picker-calendar-month-prev");}if(f.params.onMonthAdd){f.params.onMonthAdd(f,q==="next"?f.months.eq(f.months.length-1)[0]:f.months.eq(0)[0]);}f.animating=true;f.onMonthChangeStart(q);p=(f.monthsTranslate*100)*k;f.wrapper.transition(t).transform("translate3d("+(f.isH?p:0)+"%, "+(f.isH?0:p)+"%, 0)");if(v){f.wrapper.transitionEnd(function(){f.onMonthChangeEnd(q,true);});}if(!f.params.animate){f.onMonthChangeEnd(q);}};f.nextYear=function(){f.setYearMonth(f.currentYear+1);};f.prevYear=function(){f.setYearMonth(f.currentYear-1);};f.layout=function(){var p="";var q="";var v;var s=f.value&&f.value.length?f.value[0]:new Date().setHours(0,0,0,0);var x=f.monthHTML(s,"prev");var u=f.monthHTML(s);var t=f.monthHTML(s,"next");var r='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(x+u+t)+"</div></div>";var w="";if(f.params.weekHeader){for(v=0;v<7;v++){var y=(v+f.params.firstDay>6)?(v-7+f.params.firstDay):(v+f.params.firstDay);var z=f.params.dayNamesShort[y];w+='<div class="picker-calendar-week-day '+((f.params.weekendDays.indexOf(y)>=0)?"picker-calendar-week-day-weekend":"")+'"> '+z+"</div>";}w='<div class="picker-calendar-week-days">'+w+"</div>";}q="picker-modal picker-calendar "+(f.params.cssClass||"");var o=f.params.toolbar?f.params.toolbarTemplate.replace(/{{closeText}}/g,f.params.toolbarCloseText):"";if(f.params.toolbar){o=f.params.toolbarTemplate.replace(/{{closeText}}/g,f.params.toolbarCloseText).replace(/{{monthPicker}}/g,(f.params.monthPicker?f.params.monthPickerTemplate:"")).replace(/{{yearPicker}}/g,(f.params.yearPicker?f.params.yearPickerTemplate:""));}p='<div class="'+(q)+'">'+o+'<div class="picker-modal-inner">'+w+r+"</div></div>";f.pickerHTML=p;};function g(u){u.preventDefault();if(c.device.isWeixin&&c.device.android&&f.params.inputReadOnly){this.focus();this.blur();}if(f.opened){return;}f.open();if(f.params.scrollToInput){var o=f.input.parents(".content");if(o.length===0){return;}var w=parseInt(o.css("padding-top"),10),r=parseInt(o.css("padding-bottom"),10),s=o[0].offsetHeight-w-f.container.height(),p=o[0].scrollHeight-w-f.container.height(),t;var v=f.input.offset().top-w+f.input[0].offsetHeight;if(v>s){var q=o.scrollTop()+v-s;if(q+s>p){t=q+s-p+r;if(s===p){t=f.container.height();}o.css({"padding-bottom":(t)+"px"});}o.scrollTop(q,300);}}}function n(o){if(f.input&&f.input.length>0){if(o.target!==f.input[0]&&c(o.target).parents(".picker-modal").length===0){f.close();}}else{if(c(o.target).parents(".picker-modal").length===0){f.close();}}}if(f.params.input){f.input=c(f.params.input);if(f.input.length>0){if(f.params.inputReadOnly){f.input.prop("readOnly",true);}if(!f.inline){f.input.on("click",g);}}}if(!f.inline){c("html").on("click",n);}function l(){f.opened=false;if(f.input&&f.input.length>0){f.input.parents(".content").css({"padding-bottom":""});}if(f.params.onClose){f.params.onClose(f);}f.destroyCalendarEvents();}f.opened=false;f.open=function(){var o=false;if(!f.opened){if(!f.value){if(f.params.value){f.value=f.params.value;o=true;}}f.layout();if(f.inline){f.container=c(f.pickerHTML);f.container.addClass("picker-modal-inline");c(f.params.container).append(f.container);}else{f.container=c(c.pickerModal(f.pickerHTML));c(f.container).on("close",function(){l();});}f.container[0].f7Calendar=f;f.wrapper=f.container.find(".picker-calendar-months-wrapper");f.months=f.wrapper.find(".picker-calendar-month");f.updateCurrentMonthYear();f.monthsTranslate=0;f.setMonthsTranslate();f.initCalendarEvents();if(o){f.updateValue();}}f.opened=true;f.initialized=true;if(f.params.onMonthAdd){f.months.each(function(){f.params.onMonthAdd(f,this);});}if(f.params.onOpen){f.params.onOpen(f);}};f.close=function(){if(!f.opened||f.inline){return;}c.closeModal(f.container);return;};f.destroy=function(){f.close();if(f.params.input&&f.input.length>0){f.input.off("click",g);}c("html").off("click",n);};if(f.inline){f.open();}return f;};c.fn.calendar=function(f){return this.each(function(){var h=c(this);if(!h[0]){return;}var g={};if(h[0].tagName.toUpperCase()==="INPUT"){g.input=h;}else{g.container=h;}new e(c.extend(g,f));});};c.initCalendar=function(g){var f=g?c(g):c(document.body);f.find("[data-toggle='date']").each(function(){c(this).calendar();});};}(Zepto);+function(d){var c=function(h){var e=this;var i={updateValuesOnMomentum:false,updateValuesOnTouchmove:true,rotateEffect:false,momentumRatio:7,freeMode:false,scrollToInput:true,inputReadOnly:true,toolbar:true,toolbarCloseText:"确定",toolbarTemplate:'<header class="bar bar-nav">                    <button class="button button-link pull-right close-picker">确定</button>                    <h1 class="title">请选择</h1>                    </header>',};h=h||{};for(var g in i){if(typeof h[g]==="undefined"){h[g]=i[g];}}e.params=h;e.cols=[];e.initialized=false;e.inline=e.params.container?true:false;var j=d.device.ios||(navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0)&&!d.device.android;e.setValue=function(o,q){var p=0;for(var n=0;n<e.cols.length;n++){if(e.cols[n]&&!e.cols[n].divider){e.cols[n].setValue(o[p],q);p++;}}};e.updateValue=function(){var p=[];var n=[];for(var o=0;o<e.cols.length;o++){if(!e.cols[o].divider){p.push(e.cols[o].value);n.push(e.cols[o].displayValue);}}if(p.indexOf(undefined)>=0){return;}e.value=p;e.displayValue=n;if(e.params.onChange){e.params.onChange(e,e.value,e.displayValue);}if(e.input&&e.input.length>0){d(e.input).val(e.params.formatValue?e.params.formatValue(e,e.value,e.displayValue):e.value.join(" "));d(e.input).trigger("change");}};e.initPickerCol=function(A,y){var E=d(A);var D=E.index();var p=e.cols[D];if(p.divider){return;}p.container=E;p.wrapper=p.container.find(".picker-items-col-wrapper");p.items=p.wrapper.find(".picker-item");var L,I;var H,G,r,S,o;p.replaceValues=function(T,U){p.destroyEvents();p.values=T;p.displayValues=U;var V=e.columnHTML(p,true);p.wrapper.html(V);p.items=p.wrapper.find(".picker-item");p.calcSize();p.setValue(p.values[0],0,true);p.initEvents();};p.calcSize=function(){if(e.params.rotateEffect){p.container.removeClass("picker-items-col-absolute");if(!p.width){p.container.css({width:""});}}var T,U;T=0;U=p.container[0].offsetHeight;H=p.wrapper[0].offsetHeight;G=p.items[0].offsetHeight;r=G*p.items.length;S=U/2-r+G/2;o=U/2-G/2;if(p.width){T=p.width;if(parseInt(T,10)===T){T=T+"px";}p.container.css({width:T});}if(e.params.rotateEffect){if(!p.width){p.items.each(function(){var V=d(this);V.css({width:"auto"});T=Math.max(T,V[0].offsetWidth);V.css({width:""});});p.container.css({width:(T+2)+"px"});}p.container.addClass("picker-items-col-absolute");}};p.calcSize();p.wrapper.transform("translate3d(0,"+o+"px,0)").transition(0);var K=0;var v;p.setValue=function(V,W,T){if(typeof W==="undefined"){W="";}var X=p.wrapper.find('.picker-item[data-picker-value="'+V+'"]').index();if(typeof X==="undefined"||X===-1){return;}var U=-X*G+o;p.wrapper.transition(W);p.wrapper.transform("translate3d(0,"+(U)+"px,0)");if(e.params.updateValuesOnMomentum&&p.activeIndex&&p.activeIndex!==X){d.cancelAnimationFrame(v);p.wrapper.transitionEnd(function(){d.cancelAnimationFrame(v);});u();}p.updateItems(X,U,W,T);};p.updateItems=function(T,Z,Y,V){if(typeof Z==="undefined"){Z=d.getTranslate(p.wrapper[0],"y");}if(typeof T==="undefined"){T=-Math.round((Z-o)/G);}if(T<0){T=0;}if(T>=p.items.length){T=p.items.length-1;}var W=p.activeIndex;p.activeIndex=T;p.wrapper.find(".picker-selected").removeClass("picker-selected");if(e.params.rotateEffect){p.items.transition(Y);}var X=p.items.eq(T).addClass("picker-selected").transform("");if(V||typeof V==="undefined"){p.value=X.attr("data-picker-value");p.displayValue=p.displayValues?p.displayValues[T]:p.value;if(W!==T){if(p.onChange){p.onChange(e,p.value,p.displayValue);}e.updateValue();}}if(!e.params.rotateEffect){return;}var U=(Z-(Math.floor((Z-o)/G)*G+o))/G;p.items.each(function(){var ad=d(this);var af=ad.index()*G;var ab=o-Z;var ae=af-ab;var aa=ae/G;var ac=Math.ceil(p.height/G/2)+1;var ag=(-18*aa);if(ag>180){ag=180;}if(ag<-180){ag=-180;}if(Math.abs(aa)>ac){ad.addClass("picker-item-far");}else{ad.removeClass("picker-item-far");}ad.transform("translate3d(0, "+(-Z+o)+"px, "+(j?-110:0)+"px) rotateX("+ag+"deg)");});};function u(){v=d.requestAnimationFrame(function(){p.updateItems(undefined,undefined,0);u();});}if(y){p.updateItems(0,o,0);}var F=true;var M,x,P,q,s,O,Q,R,B,J,n,N;function w(T){if(x||M){return;}T.preventDefault();M=true;P=q=T.type==="touchstart"?T.targetTouches[0].pageY:T.pageY;s=(new Date()).getTime();F=true;Q=B=d.getTranslate(p.wrapper[0],"y");}function z(U){if(!M){return;}U.preventDefault();F=false;q=U.type==="touchmove"?U.targetTouches[0].pageY:U.pageY;if(!x){d.cancelAnimationFrame(v);x=true;Q=B=d.getTranslate(p.wrapper[0],"y");p.wrapper.transition(0);}U.preventDefault();var T=q-P;B=Q+T;R=undefined;if(B<S){B=S-Math.pow(S-B,0.8);R="min";}if(B>o){B=o+Math.pow(B-o,0.8);R="max";}p.wrapper.transform("translate3d(0,"+B+"px,0)");p.updateItems(undefined,B,0,e.params.updateValuesOnTouchmove);n=B-J||B;N=(new Date()).getTime();J=B;}function C(W){if(!M||!x){M=x=false;return;}M=x=false;p.wrapper.transition("");if(R){if(R==="min"){p.wrapper.transform("translate3d(0,"+S+"px,0)");}else{p.wrapper.transform("translate3d(0,"+o+"px,0)");}}O=new Date().getTime();var V,U;if(O-s>300){U=B;}else{V=Math.abs(n/(O-N));U=B+n*e.params.momentumRatio;}U=Math.max(Math.min(U,o),S);var T=-Math.floor((U-o)/G);if(!e.params.freeMode){U=-T*G+o;}p.wrapper.transform("translate3d(0,"+(parseInt(U,10))+"px,0)");p.updateItems(T,U,"",true);if(e.params.updateValuesOnMomentum){u();p.wrapper.transitionEnd(function(){d.cancelAnimationFrame(v);});}setTimeout(function(){F=true;},100);}function t(U){if(!F){return;}d.cancelAnimationFrame(v);var T=d(this).attr("data-picker-value");p.setValue(T);}p.initEvents=function(T){var U=T?"off":"on";p.container[U](d.touchEvents.start,w);p.container[U](d.touchEvents.move,z);p.container[U](d.touchEvents.end,C);p.items[U]("click",t);};p.destroyEvents=function(){p.initEvents(true);};p.container[0].f7DestroyPickerCol=function(){p.destroyEvents();};p.initEvents();};e.destroyPickerCol=function(n){n=d(n);if("f7DestroyPickerCol" in n[0]){n[0].f7DestroyPickerCol();}};function k(){if(!e.opened){return;}for(var n=0;n<e.cols.length;n++){if(!e.cols[n].divider){e.cols[n].calcSize();e.cols[n].setValue(e.cols[n].value,0,false);}}}d(window).on("resize",k);e.columnHTML=function(r,o){var p="";var n="";if(r.divider){n+='<div class="picker-items-col picker-items-col-divider '+(r.textAlign?"picker-items-col-"+r.textAlign:"")+" "+(r.cssClass||"")+'">'+r.content+"</div>";}else{for(var q=0;q<r.values.length;q++){p+='<div class="picker-item" data-picker-value="'+r.values[q]+'">'+(r.displayValues?r.displayValues[q]:r.values[q])+"</div>";}n+='<div class="picker-items-col '+(r.textAlign?"picker-items-col-"+r.textAlign:"")+" "+(r.cssClass||"")+'"><div class="picker-items-col-wrapper">'+p+"</div></div>";}return o?p:n;};e.layout=function(){var r="";var q="";var p;e.cols=[];var n="";for(p=0;p<e.params.cols.length;p++){var o=e.params.cols[p];n+=e.columnHTML(e.params.cols[p]);e.cols.push(o);}q="picker-modal picker-columns "+(e.params.cssClass||"")+(e.params.rotateEffect?" picker-3d":"");r='<div class="'+(q)+'">'+(e.params.toolbar?e.params.toolbarTemplate.replace(/{{closeText}}/g,e.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+n+'<div class="picker-center-highlight"></div></div></div>';e.pickerHTML=r;};function f(t){t.preventDefault();if(d.device.isWeixin&&d.device.android&&e.params.inputReadOnly){this.focus();this.blur();}if(e.opened){return;}e.open();if(e.params.scrollToInput){var n=e.input.parents(".content");if(n.length===0){return;}var v=parseInt(n.css("padding-top"),10),q=parseInt(n.css("padding-bottom"),10),r=n[0].offsetHeight-v-e.container.height(),o=n[0].scrollHeight-v-e.container.height(),s;var u=e.input.offset().top-v+e.input[0].offsetHeight;if(u>r){var p=n.scrollTop()+u-r;if(p+r>o){s=p+r-o+q;if(r===o){s=e.container.height();}n.css({"padding-bottom":(s)+"px"});}n.scrollTop(p,300);}}}function m(n){if(!e.opened){return;}if(e.input&&e.input.length>0){if(n.target!==e.input[0]&&d(n.target).parents(".picker-modal").length===0){e.close();}}else{if(d(n.target).parents(".picker-modal").length===0){e.close();}}}if(e.params.input){e.input=d(e.params.input);if(e.input.length>0){if(e.params.inputReadOnly){e.input.prop("readOnly",true);}if(!e.inline){e.input.on("click",f);}}}if(!e.inline){d("html").on("click",m);}function l(){e.opened=false;if(e.input&&e.input.length>0){e.input.parents(".content").css({"padding-bottom":""});}if(e.params.onClose){e.params.onClose(e);}e.container.find(".picker-items-col").each(function(){e.destroyPickerCol(this);});}e.opened=false;e.open=function(){if(!e.opened){e.layout();if(e.inline){e.container=d(e.pickerHTML);e.container.addClass("picker-modal-inline");d(e.params.container).append(e.container);e.opened=true;}else{e.container=d(d.pickerModal(e.pickerHTML));d(e.container).one("opened",function(){e.opened=true;}).on("close",function(){l();});}e.container[0].f7Picker=e;e.container.find(".picker-items-col").each(function(){var n=true;if((!e.initialized&&e.params.value)||(e.initialized&&e.value)){n=false;}e.initPickerCol(this,n);});if(!e.initialized){if(e.params.value){e.setValue(e.params.value,0);}}else{if(e.value){e.setValue(e.value,0);}}}e.initialized=true;if(e.params.onOpen){e.params.onOpen(e);}};e.close=function(){if(!e.opened||e.inline){return;}d.closeModal(e.container);return;};e.destroy=function(){e.close();if(e.params.input&&e.input.length>0){e.input.off("click",f);}d("html").off("click",m);d(window).off("resize",k);};if(e.inline){e.open();}return e;};d(document).on("click",".close-picker",function(){var e=d(".picker-modal.modal-in");d.closeModal(e);});d.fn.picker=function(f){var e=arguments;return this.each(function(){if(!this){return;}var i=d(this);var g=i.data("picker");if(!g){var h=d.extend({input:this,value:i.val()?i.val().split(" "):""},f);g=new c(h);i.data("picker",g);}if(typeof f===typeof"a"){g[f].apply(g,Array.prototype.slice.call(e,1));}});};}(Zepto);+function(h){var d=new Date();var f=function(k){var m=[];for(var l=1;l<=(k||31);l++){m.push(l<10?"0"+l:l);}return m;};var g=function(m,l){var k=new Date(l,parseInt(m)+1-1,1);var n=new Date(k-1);return f(n.getDate());};var e=function(k){return k<10?"0"+k:k;};var j=("01 02 03 04 05 06 07 08 09 10 11 12").split(" ");var c=(function(){var k=[];for(var l=1950;l<=2030;l++){k.push(l);}return k;})();var i={rotateEffect:false,value:[d.getFullYear(),e(d.getMonth()+1),e(d.getDate()),d.getHours(),e(d.getMinutes())],onChange:function(l,k,n){var o=g(l.cols[1].value,l.cols[0].value);var m=l.cols[2].value;if(m>o.length){m=o.length;}l.cols[2].setValue(m);},formatValue:function(m,k,l){return l[0]+"-"+k[1]+"-"+k[2]+" "+k[3]+":"+k[4];},cols:[{values:c},{values:j},{values:f()},{divider:true,content:"  "},{values:(function(){var k=[];for(var l=0;l<=23;l++){k.push(l);}return k;})(),},{divider:true,content:":"},{values:(function(){var k=[];for(var l=0;l<=59;l++){k.push(l<10?"0"+l:l);}return k;})(),}]};h.fn.datetimePicker=function(k){return this.each(function(){if(!this){return;}var l=h.extend(i,k);h(this).picker(l);if(k.value){h(this).val(l.formatValue(l,l.value,l.value));}});};}(Zepto);+function(f){var h=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||function(i){f.setTimeout(i,1000/60);};var d=(function(){var m={};var n=document.createElement("div").style;var k=(function(){var r=["t","webkitT","MozT","msT","OT"],p,q=0,o=r.length;for(;q<o;q++){p=r[q]+"ransform";if(p in n){return r[q].substr(0,r[q].length-1);}}return false;})();function l(o){if(k===false){return false;}if(k===""){return o;}return k+o.charAt(0).toUpperCase()+o.substr(1);}m.getTime=Date.now||function i(){return new Date().getTime();};m.extend=function(q,p){for(var o in p){q[o]=p[o];}};m.addEvent=function(r,q,p,o){r.addEventListener(q,p,!!o);};m.removeEvent=function(r,q,p,o){r.removeEventListener(q,p,!!o);};m.prefixPointerEvent=function(o){return f.MSPointerEvent?"MSPointer"+o.charAt(9).toUpperCase()+o.substr(10):o;};m.momentum=function(x,q,s,o,y,z,C){var p=x-q,r=Math.abs(p)/s,A,v;r=r/2;r=r>1.5?1.5:r;z=z===undefined?0.0006:z;A=x+(r*r)/(2*z)*(p<0?-1:1);v=r/z;if(A<o){A=y?o-(y/2.5*(r/8)):o;p=Math.abs(A-x);v=p/r;}else{if(A>0){A=y?y/2.5*(r/8):0;p=Math.abs(x)+A;v=p/r;}}var B=+new Date();var u=B;function w(){if(+new Date()-u>50){C._execEvent("scroll");u=+new Date();}if(+new Date()-B<v){h(w);}}h(w);return{destination:Math.round(A),duration:v};};var j=l("transform");m.extend(m,{hasTransform:j!==false,hasPerspective:l("perspective") in n,hasTouch:"ontouchstart" in f,hasPointer:f.PointerEvent||f.MSPointerEvent,hasTransition:l("transition") in n});m.isBadAndroid=/Android /.test(f.navigator.appVersion)&&!(/Chrome\/\d/.test(f.navigator.appVersion))&&false;m.extend(m.style={},{transform:j,transitionTimingFunction:l("transitionTimingFunction"),transitionDuration:l("transitionDuration"),transitionDelay:l("transitionDelay"),transformOrigin:l("transformOrigin")});m.hasClass=function(p,q){var o=new RegExp("(^|\\s)"+q+"(\\s|$)");return o.test(p.className);};m.addClass=function(p,q){if(m.hasClass(p,q)){return;}var o=p.className.split(" ");o.push(q);p.className=o.join(" ");};m.removeClass=function(p,q){if(!m.hasClass(p,q)){return;}var o=new RegExp("(^|\\s)"+q+"(\\s|$)","g");p.className=p.className.replace(o," ");};m.offset=function(o){var q=-o.offsetLeft,p=-o.offsetTop;while(o=o.offsetParent){q-=o.offsetLeft;p-=o.offsetTop;}return{left:q,top:p};};m.preventDefaultException=function(q,p){for(var o in p){if(p[o].test(q[o])){return true;}}return false;};m.extend(m.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});m.extend(m.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(o){return o*(2-o);}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(o){return Math.sqrt(1-(--o*o));}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(p){var o=4;return(p=p-1)*p*((o+1)*p+o)+1;}},bounce:{style:"",fn:function(o){if((o/=1)<(1/2.75)){return 7.5625*o*o;}else{if(o<(2/2.75)){return 7.5625*(o-=(1.5/2.75))*o+0.75;}else{if(o<(2.5/2.75)){return 7.5625*(o-=(2.25/2.75))*o+0.9375;}else{return 7.5625*(o-=(2.625/2.75))*o+0.984375;}}}}},elastic:{style:"",fn:function(o){var p=0.22,q=0.4;if(o===0){return 0;}if(o===1){return 1;}return(q*Math.pow(2,-10*o)*Math.sin((o-p/4)*(2*Math.PI)/p)+1);}}});m.tap=function(q,o){var p=document.createEvent("Event");p.initEvent(o,true,true);p.pageX=q.pageX;p.pageY=q.pageY;q.target.dispatchEvent(p);};m.click=function(q){var p=q.target,o;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(p.tagName)){o=document.createEvent("MouseEvents");o.initMouseEvent("click",true,true,q.view,1,p.screenX,p.screenY,p.clientX,p.clientY,q.ctrlKey,q.altKey,q.shiftKey,q.metaKey,0,null);o._constructed=true;p.dispatchEvent(o);}};return m;})();function g(l,j){this.wrapper=typeof l==="string"?document.querySelector(l):l;this.scroller=b(this.wrapper).find(".content-inner")[0];this.scrollerStyle=this.scroller&&this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true,eventPassthrough:undefined,};for(var k in j){this.options[k]=j[k];}this.translateZ=this.options.HWCompositing&&d.hasPerspective?" translateZ(0)":"";this.options.useTransition=d.hasTransition&&this.options.useTransition;this.options.useTransform=d.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough==="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough==="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing==="string"?d.ease[this.options.bounceEasing]||d.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap";}if(this.options.shrinkScrollbars==="scale"){this.options.useTransition=false;}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;if(this.options.probeType===3){this.options.useTransition=false;}this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable();}g.prototype={version:"5.1.3",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators();}if(this.options.mouseWheel){this._initWheel();}if(this.options.snap){this._initSnap();}if(this.options.keyBindings){this._initKeys();}},destroy:function(){this._initEvents(true);this._execEvent("destroy");},_transitionEnd:function(i){if(i.target!==this.scroller||!this.isInTransition){return;}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd");}},_start:function(j){if(d.eventType[j.type]!==1){if(j.button!==0){return;}}if(!this.enabled||(this.initiated&&d.eventType[j.type]!==this.initiated)){return;}if(this.options.preventDefault&&!d.isBadAndroid&&!d.preventDefaultException(j.target,this.options.preventDefaultException)){j.preventDefault();}var i=j.touches?j.touches[0]:j,k;this.initiated=d.eventType[j.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=d.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;k=this.getComputedPosition();this._translate(Math.round(k.x),Math.round(k.y));this._execEvent("scrollEnd");}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd");}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=i.pageX;this.pointY=i.pageY;this._execEvent("beforeScrollStart");},_move:function(n){if(!this.enabled||d.eventType[n.type]!==this.initiated){return;}if(this.options.preventDefault){n.preventDefault();}var p=n.touches?n.touches[0]:n,k=p.pageX-this.pointX,j=p.pageY-this.pointY,o=d.getTime(),i,q,m,l;this.pointX=p.pageX;this.pointY=p.pageY;this.distX+=k;this.distY+=j;m=Math.abs(this.distX);l=Math.abs(this.distY);if(o-this.endTime>300&&(m<10&&l<10)){return;}if(!this.directionLocked&&!this.options.freeScroll){if(m>l+this.options.directionLockThreshold){this.directionLocked="h";}else{if(l>=m+this.options.directionLockThreshold){this.directionLocked="v";}else{this.directionLocked="n";}}}if(this.directionLocked==="h"){if(this.options.eventPassthrough==="vertical"){n.preventDefault();}else{if(this.options.eventPassthrough==="horizontal"){this.initiated=false;return;}}j=0;}else{if(this.directionLocked==="v"){if(this.options.eventPassthrough==="horizontal"){n.preventDefault();}else{if(this.options.eventPassthrough==="vertical"){this.initiated=false;return;}}k=0;}}k=this.hasHorizontalScroll?k:0;j=this.hasVerticalScroll?j:0;i=this.x+k;q=this.y+j;if(i>0||i<this.maxScrollX){i=this.options.bounce?this.x+k/3:i>0?0:this.maxScrollX;}if(q>0||q<this.maxScrollY){q=this.options.bounce?this.y+j/3:q>0?0:this.maxScrollY;}this.directionX=k>0?-1:k<0?1:0;this.directionY=j>0?-1:j<0?1:0;if(!this.moved){this._execEvent("scrollStart");}this.moved=true;this._translate(i,q);if(o-this.startTime>300){this.startTime=o;this.startX=this.x;this.startY=this.y;if(this.options.probeType===1){this._execEvent("scroll");}}if(this.options.probeType>1){this._execEvent("scroll");}},_end:function(o){if(!this.enabled||d.eventType[o.type]!==this.initiated){return;}if(this.options.preventDefault&&!d.preventDefaultException(o.target,this.options.preventDefaultException)){o.preventDefault();}var k,j,n=d.getTime()-this.startTime,i=Math.round(this.x),s=Math.round(this.y),r=Math.abs(i-this.startX),q=Math.abs(s-this.startY),l=0,p="";this.isInTransition=0;this.initiated=0;this.endTime=d.getTime();if(this.resetPosition(this.options.bounceTime)){return;}this.scrollTo(i,s);if(!this.moved){if(this.options.tap){d.tap(o,this.options.tap);}if(this.options.click){d.click(o);}this._execEvent("scrollCancel");return;}if(this._events.flick&&n<200&&r<100&&q<100){this._execEvent("flick");return;}if(this.options.momentum&&n<300){k=this.hasHorizontalScroll?d.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration,this):{destination:i,duration:0};j=this.hasVerticalScroll?d.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration,this):{destination:s,duration:0};i=k.destination;s=j.destination;l=Math.max(k.duration,j.duration);this.isInTransition=1;}if(this.options.snap){var m=this._nearestSnap(i,s);this.currentPage=m;l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(i-m.x),1000),Math.min(Math.abs(s-m.y),1000)),300);i=m.x;s=m.y;this.directionX=0;this.directionY=0;p=this.options.bounceEasing;}if(i!==this.x||s!==this.y){if(i>0||i<this.maxScrollX||s>0||s<this.maxScrollY){p=d.ease.quadratic;}this.scrollTo(i,s,l,p);return;}this._execEvent("scrollEnd");},_resize:function(){var i=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){i.refresh();},this.options.resizePolling);},resetPosition:function(k){var i=this.x,l=this.y;k=k||0;if(!this.hasHorizontalScroll||this.x>0){i=0;}else{if(this.x<this.maxScrollX){i=this.maxScrollX;}}if(!this.hasVerticalScroll||this.y>0){l=0;}else{if(this.y<this.maxScrollY){l=this.maxScrollY;}}if(i===this.x&&l===this.y){return false;}if(this.options.ptr&&this.y>44&&this.startY*-1<b(f).height()&&!this.ptrLock){l=this.options.ptrOffset||44;this._execEvent("ptr");this.ptrLock=true;var j=this;setTimeout(function(){j.ptrLock=false;},500);}this.scrollTo(i,l,k,this.options.bounceEasing);return true;},disable:function(){this.enabled=false;},enable:function(){this.enabled=true;},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth;}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight;}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=d.offset(this.wrapper);this._execEvent("refresh");this.resetPosition();},on:function(j,i){if(!this._events[j]){this._events[j]=[];}this._events[j].push(i);},off:function(k,j){if(!this._events[k]){return;}var i=this._events[k].indexOf(j);if(i>-1){this._events[k].splice(i,1);}},_execEvent:function(m){if(!this._events[m]){return;}var k=0,j=this._events[m].length;if(!j){return;}for(;k<j;k++){this._events[m][k].apply(this,[].slice.call(arguments,1));}},scrollBy:function(i,l,j,k){i=this.x+i;l=this.y+l;j=j||0;this.scrollTo(i,l,j,k);},scrollTo:function(i,l,j,k){k=k||d.ease.circular;this.isInTransition=this.options.useTransition&&j>0;if(!j||(this.options.useTransition&&k.style)){this._transitionTimingFunction(k.style);this._transitionTime(j);this._translate(i,l);}else{this._animate(i,l,j,k.fn);}},scrollToElement:function(j,k,i,n,m){j=j.nodeType?j:this.scroller.querySelector(j);if(!j){return;}var l=d.offset(j);l.left-=this.wrapperOffset.left;l.top-=this.wrapperOffset.top;if(i===true){i=Math.round(j.offsetWidth/2-this.wrapper.offsetWidth/2);}if(n===true){n=Math.round(j.offsetHeight/2-this.wrapper.offsetHeight/2);}l.left-=i||0;l.top-=n||0;l.left=l.left>0?0:l.left<this.maxScrollX?this.maxScrollX:l.left;l.top=l.top>0?0:l.top<this.maxScrollY?this.maxScrollY:l.top;k=k===undefined||k===null||k==="auto"?Math.max(Math.abs(this.x-l.left),Math.abs(this.y-l.top)):k;this.scrollTo(l.left,l.top,k,m);},_transitionTime:function(k){k=k||0;this.scrollerStyle[d.style.transitionDuration]=k+"ms";if(!k&&d.isBadAndroid){this.scrollerStyle[d.style.transitionDuration]="0.001s";}if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTime(k);}}},_transitionTimingFunction:function(k){this.scrollerStyle[d.style.transitionTimingFunction]=k;if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTimingFunction(k);}}},_translate:function(j,l){if(this.options.useTransform){this.scrollerStyle[d.style.transform]="translate("+j+"px,"+l+"px)"+this.translateZ;}else{j=Math.round(j);l=Math.round(l);this.scrollerStyle.left=j+"px";this.scrollerStyle.top=l+"px";}this.x=j;this.y=l;if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].updatePosition();}}},_initEvents:function(i){var j=i?d.removeEvent:d.addEvent,k=this.options.bindToWrapper?this.wrapper:f;j(f,"orientationchange",this);j(f,"resize",this);if(this.options.click){j(this.wrapper,"click",this,true);}if(!this.options.disableMouse){j(this.wrapper,"mousedown",this);j(k,"mousemove",this);j(k,"mousecancel",this);j(k,"mouseup",this);}if(d.hasPointer&&!this.options.disablePointer){j(this.wrapper,d.prefixPointerEvent("pointerdown"),this);j(k,d.prefixPointerEvent("pointermove"),this);j(k,d.prefixPointerEvent("pointercancel"),this);j(k,d.prefixPointerEvent("pointerup"),this);}if(d.hasTouch&&!this.options.disableTouch){j(this.wrapper,"touchstart",this);j(k,"touchmove",this);j(k,"touchcancel",this);j(k,"touchend",this);}j(this.scroller,"transitionend",this);j(this.scroller,"webkitTransitionEnd",this);j(this.scroller,"oTransitionEnd",this);j(this.scroller,"MSTransitionEnd",this);},getComputedPosition:function(){var j=f.getComputedStyle(this.scroller,null),i,k;if(this.options.useTransform){j=j[d.style.transform].split(")")[0].split(", ");i=+(j[12]||j[4]);k=+(j[13]||j[5]);}else{i=+j.left.replace(/[^-\d.]/g,"");k=+j.top.replace(/[^-\d.]/g,"");}return{x:i,y:k};},_initIndicators:function(){var l=this.options.interactiveScrollbars,n=typeof this.options.scrollbars!=="string",p=[],k;var o=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){k={el:e("v",l,this.options.scrollbars),interactive:l,defaultScrollbars:true,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(k.el);p.push(k);}if(this.options.scrollX){k={el:e("h",l,this.options.scrollbars),interactive:l,defaultScrollbars:true,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(k.el);p.push(k);}}if(this.options.indicators){p=p.concat(this.options.indicators);}for(var m=p.length;m--;){this.indicators.push(new c(this,p[m]));}function j(r){for(var q=o.indicators.length;q--;){r.call(o.indicators[q]);}}if(this.options.fadeScrollbars){this.on("scrollEnd",function(){j(function(){this.fade();});});this.on("scrollCancel",function(){j(function(){this.fade();});});this.on("scrollStart",function(){j(function(){this.fade(1);});});this.on("beforeScrollStart",function(){j(function(){this.fade(1,true);});});}this.on("refresh",function(){j(function(){this.refresh();});});this.on("destroy",function(){j(function(){this.destroy();});delete this.indicators;});},_initWheel:function(){d.addEvent(this.wrapper,"wheel",this);d.addEvent(this.wrapper,"mousewheel",this);d.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){d.removeEvent(this.wrapper,"wheel",this);d.removeEvent(this.wrapper,"mousewheel",this);d.removeEvent(this.wrapper,"DOMMouseScroll",this);});},_wheel:function(m){if(!this.enabled){return;}m.preventDefault();m.stopPropagation();var k,j,n,l,i=this;if(this.wheelTimeout===undefined){i._execEvent("scrollStart");}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){i._execEvent("scrollEnd");i.wheelTimeout=undefined;},400);if("deltaX" in m){if(m.deltaMode===1){k=-m.deltaX*this.options.mouseWheelSpeed;j=-m.deltaY*this.options.mouseWheelSpeed;}else{k=-m.deltaX;j=-m.deltaY;}}else{if("wheelDeltaX" in m){k=m.wheelDeltaX/120*this.options.mouseWheelSpeed;j=m.wheelDeltaY/120*this.options.mouseWheelSpeed;}else{if("wheelDelta" in m){k=j=m.wheelDelta/120*this.options.mouseWheelSpeed;}else{if("detail" in m){k=j=-m.detail/3*this.options.mouseWheelSpeed;}else{return;}}}}k*=this.options.invertWheelDirection;j*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){k=j;j=0;}if(this.options.snap){n=this.currentPage.pageX;l=this.currentPage.pageY;if(k>0){n--;}else{if(k<0){n++;}}if(j>0){l--;}else{if(j<0){l++;}}this.goToPage(n,l);return;}n=this.x+Math.round(this.hasHorizontalScroll?k:0);l=this.y+Math.round(this.hasVerticalScroll?j:0);if(n>0){n=0;}else{if(n<this.maxScrollX){n=this.maxScrollX;}}if(l>0){l=0;}else{if(l<this.maxScrollY){l=this.maxScrollY;}}this.scrollTo(n,l,0);this._execEvent("scroll");},_initSnap:function(){this.currentPage={};if(typeof this.options.snap==="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap);}this.on("refresh",function(){var s=0,q,o=0,k,r,p,u=0,t,w=this.options.snapStepX||this.wrapperWidth,v=this.options.snapStepY||this.wrapperHeight,j;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return;}if(this.options.snap===true){r=Math.round(w/2);p=Math.round(v/2);while(u>-this.scrollerWidth){this.pages[s]=[];q=0;t=0;while(t>-this.scrollerHeight){this.pages[s][q]={x:Math.max(u,this.maxScrollX),y:Math.max(t,this.maxScrollY),width:w,height:v,cx:u-r,cy:t-p};t-=v;q++;}u-=w;s++;}}else{j=this.options.snap;q=j.length;k=-1;for(;s<q;s++){if(s===0||j[s].offsetLeft<=j[s-1].offsetLeft){o=0;k++;}if(!this.pages[o]){this.pages[o]=[];}u=Math.max(-j[s].offsetLeft,this.maxScrollX);t=Math.max(-j[s].offsetTop,this.maxScrollY);r=u-Math.round(j[s].offsetWidth/2);p=t-Math.round(j[s].offsetHeight/2);this.pages[o][k]={x:u,y:t,width:j[s].offsetWidth,height:j[s].offsetHeight,cx:r,cy:p};if(u>this.maxScrollX){o++;}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold;}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold);}});this.on("flick",function(){var i=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1000),Math.min(Math.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,i);});},_nearestSnap:function(k,p){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0};}var o=0,n=this.pages.length,j=0;if(Math.abs(k-this.absStartX)<this.snapThresholdX&&Math.abs(p-this.absStartY)<this.snapThresholdY){return this.currentPage;}if(k>0){k=0;}else{if(k<this.maxScrollX){k=this.maxScrollX;}}if(p>0){p=0;}else{if(p<this.maxScrollY){p=this.maxScrollY;}}for(;o<n;o++){if(k>=this.pages[o][0].cx){k=this.pages[o][0].x;break;}}n=this.pages[o].length;for(;j<n;j++){if(p>=this.pages[0][j].cy){p=this.pages[0][j].y;break;}}if(o===this.currentPage.pageX){o+=this.directionX;if(o<0){o=0;}else{if(o>=this.pages.length){o=this.pages.length-1;}}k=this.pages[o][0].x;}if(j===this.currentPage.pageY){j+=this.directionY;if(j<0){j=0;}else{if(j>=this.pages[0].length){j=this.pages[0].length-1;}}p=this.pages[0][j].y;}return{x:k,y:p,pageX:o,pageY:j};},goToPage:function(i,n,j,m){m=m||this.options.bounceEasing;if(i>=this.pages.length){i=this.pages.length-1;}else{if(i<0){i=0;}}if(n>=this.pages[i].length){n=this.pages[i].length-1;}else{if(n<0){n=0;}}var l=this.pages[i][n].x,k=this.pages[i][n].y;j=j===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(l-this.x),1000),Math.min(Math.abs(k-this.y),1000)),300):j;this.currentPage={x:l,y:k,pageX:i,pageY:n};this.scrollTo(l,k,j,m);},next:function(j,l){var i=this.currentPage.pageX,k=this.currentPage.pageY;i++;if(i>=this.pages.length&&this.hasVerticalScroll){i=0;k++;}this.goToPage(i,k,j,l);},prev:function(j,l){var i=this.currentPage.pageX,k=this.currentPage.pageY;i--;if(i<0&&this.hasVerticalScroll){i=0;k--;}this.goToPage(i,k,j,l);},_initKeys:function(){var k={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var j;if(typeof this.options.keyBindings==="object"){for(j in this.options.keyBindings){if(typeof this.options.keyBindings[j]==="string"){this.options.keyBindings[j]=this.options.keyBindings[j].toUpperCase().charCodeAt(0);}}}else{this.options.keyBindings={};}for(j in k){this.options.keyBindings[j]=this.options.keyBindings[j]||k[j];}d.addEvent(f,"keydown",this);this.on("destroy",function(){d.removeEvent(f,"keydown",this);});},_key:function(n){if(!this.enabled){return;}var i=this.options.snap,o=i?this.currentPage.pageX:this.x,m=i?this.currentPage.pageY:this.y,k=d.getTime(),j=this.keyTime||0,l=0.25,p;if(this.options.useTransition&&this.isInTransition){p=this.getComputedPosition();this._translate(Math.round(p.x),Math.round(p.y));this.isInTransition=false;}this.keyAcceleration=k-j<200?Math.min(this.keyAcceleration+l,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){o+=i?1:this.wrapperWidth;}else{m+=i?1:this.wrapperHeight;}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){o-=i?1:this.wrapperWidth;}else{m-=i?1:this.wrapperHeight;}break;case this.options.keyBindings.end:o=i?this.pages.length-1:this.maxScrollX;m=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0;m=0;break;case this.options.keyBindings.left:o+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:m+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:m-=i?1:5+this.keyAcceleration>>0;break;default:return;}if(i){this.goToPage(o,m);return;}if(o>0){o=0;this.keyAcceleration=0;}else{if(o<this.maxScrollX){o=this.maxScrollX;this.keyAcceleration=0;}}if(m>0){m=0;this.keyAcceleration=0;}else{if(m<this.maxScrollY){m=this.maxScrollY;this.keyAcceleration=0;}}this.scrollTo(o,m,0);this.keyTime=k;},_animate:function(r,q,l,i){var o=this,n=this.x,m=this.y,j=d.getTime(),p=j+l;function k(){var s=d.getTime(),u,t,v;if(s>=p){o.isAnimating=false;o._translate(r,q);if(!o.resetPosition(o.options.bounceTime)){o._execEvent("scrollEnd");}return;}s=(s-j)/l;v=i(s);u=(r-n)*v+n;t=(q-m)*v+m;o._translate(u,t);if(o.isAnimating){h(k);}if(o.options.probeType===3){o._execEvent("scroll");}}this.isAnimating=true;k();},handleEvent:function(i){switch(i.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(i);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(i);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(i);break;case"keydown":this._key(i);break;case"click":if(!i._constructed){i.preventDefault();i.stopPropagation();}break;}}};function e(l,j,k){var m=document.createElement("div"),i=document.createElement("div");if(k===true){m.style.cssText="position:absolute;z-index:9999";i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px";}i.className="iScrollIndicator";if(l==="h"){if(k===true){m.style.cssText+=";height:5px;left:2px;right:2px;bottom:0";i.style.height="100%";}m.className="iScrollHorizontalScrollbar";}else{if(k===true){m.style.cssText+=";width:5px;bottom:2px;top:2px;right:1px";i.style.width="100%";}m.className="iScrollVerticalScrollbar";}m.style.cssText+=";overflow:hidden";if(!j){m.style.pointerEvents="none";}m.appendChild(i);return m;}function c(j,k){this.wrapper=typeof k.el==="string"?document.querySelector(k.el):k.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=j;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var l in k){this.options[l]=k[l];}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){d.addEvent(this.indicator,"touchstart",this);d.addEvent(f,"touchend",this);}if(!this.options.disablePointer){d.addEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this);d.addEvent(f,d.prefixPointerEvent("pointerup"),this);}if(!this.options.disableMouse){d.addEvent(this.indicator,"mousedown",this);d.addEvent(f,"mouseup",this);}}if(this.options.fade){this.wrapperStyle[d.style.transform]=this.scroller.translateZ;this.wrapperStyle[d.style.transitionDuration]=d.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0";}}c.prototype={handleEvent:function(i){switch(i.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(i);break;}},destroy:function(){if(this.options.interactive){d.removeEvent(this.indicator,"touchstart",this);d.removeEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this);d.removeEvent(this.indicator,"mousedown",this);d.removeEvent(f,"touchmove",this);d.removeEvent(f,d.prefixPointerEvent("pointermove"),this);d.removeEvent(f,"mousemove",this);d.removeEvent(f,"touchend",this);d.removeEvent(f,d.prefixPointerEvent("pointerup"),this);d.removeEvent(f,"mouseup",this);}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper);}},_start:function(j){var i=j.touches?j.touches[0]:j;j.preventDefault();j.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=d.getTime();if(!this.options.disableTouch){d.addEvent(f,"touchmove",this);}if(!this.options.disablePointer){d.addEvent(f,d.prefixPointerEvent("pointermove"),this);}if(!this.options.disableMouse){d.addEvent(f,"mousemove",this);}this.scroller._execEvent("beforeScrollStart");},_move:function(n){var j=n.touches?n.touches[0]:n,k,i,o,m,l=d.getTime();if(!this.moved){this.scroller._execEvent("scrollStart");}this.moved=true;k=j.pageX-this.lastPointX;this.lastPointX=j.pageX;i=j.pageY-this.lastPointY;this.lastPointY=j.pageY;o=this.x+k;m=this.y+i;this._pos(o,m);if(this.scroller.options.probeType===1&&l-this.startTime>300){this.startTime=l;this.scroller._execEvent("scroll");}else{if(this.scroller.options.probeType>1){this.scroller._execEvent("scroll");}}n.preventDefault();n.stopPropagation();},_end:function(k){if(!this.initiated){return;}this.initiated=false;k.preventDefault();k.stopPropagation();d.removeEvent(f,"touchmove",this);d.removeEvent(f,d.prefixPointerEvent("pointermove"),this);d.removeEvent(f,"mousemove",this);if(this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var j=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-i.x),1000),Math.min(Math.abs(this.scroller.y-i.y),1000)),300);if(this.scroller.x!==i.x||this.scroller.y!==i.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=i;this.scroller.scrollTo(i.x,i.y,j,this.scroller.options.bounceEasing);}}if(this.moved){this.scroller._execEvent("scrollEnd");}},transitionTime:function(i){i=i||0;this.indicatorStyle[d.style.transitionDuration]=i+"ms";if(!i&&d.isBadAndroid){this.indicatorStyle[d.style.transitionDuration]="0.001s";}},transitionTimingFunction:function(i){this.indicatorStyle[d.style.transitionTimingFunction]=i;},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none";}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none";}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){d.addClass(this.wrapper,"iScrollBothScrollbars");d.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px";}else{this.wrapper.style.bottom="8px";}}}else{d.removeClass(this.wrapper,"iScrollBothScrollbars");d.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px";}else{this.wrapper.style.bottom="2px";}}}if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px";}else{this.indicatorWidth=this.indicator.clientWidth;}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink==="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8;}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX;}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX));}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px";}else{this.indicatorHeight=this.indicator.clientHeight;}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink==="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8;}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY;}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY));}this.updatePosition();},updatePosition:function(){var i=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,j=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(i<this.minBoundaryX){if(this.options.shrink==="scale"){this.width=Math.max(this.indicatorWidth+i,8);this.indicatorStyle.width=this.width+"px";}i=this.minBoundaryX;}else{if(i>this.maxBoundaryX){if(this.options.shrink==="scale"){this.width=Math.max(this.indicatorWidth-(i-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";i=this.maxPosX+this.indicatorWidth-this.width;}else{i=this.maxBoundaryX;}}else{if(this.options.shrink==="scale"&&this.width!==this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px";}}}if(j<this.minBoundaryY){if(this.options.shrink==="scale"){this.height=Math.max(this.indicatorHeight+j*3,8);this.indicatorStyle.height=this.height+"px";}j=this.minBoundaryY;}else{if(j>this.maxBoundaryY){if(this.options.shrink==="scale"){this.height=Math.max(this.indicatorHeight-(j-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";j=this.maxPosY+this.indicatorHeight-this.height;}else{j=this.maxBoundaryY;}}else{if(this.options.shrink==="scale"&&this.height!==this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px";}}}}this.x=i;this.y=j;if(this.scroller.options.useTransform){this.indicatorStyle[d.style.transform]="translate("+i+"px,"+j+"px)"+this.scroller.translateZ;}else{this.indicatorStyle.left=i+"px";this.indicatorStyle.top=j+"px";}},_pos:function(i,j){if(i<0){i=0;}else{if(i>this.maxPosX){i=this.maxPosX;}}if(j<0){j=0;}else{if(j>this.maxPosY){j=this.maxPosY;}}i=this.options.listenX?Math.round(i/this.sizeRatioX):this.scroller.x;j=this.options.listenY?Math.round(j/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(i,j);},fade:function(l,k){if(k&&!this.visible){return;}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var j=l?250:500,i=l?0:300;l=l?"1":"0";this.wrapperStyle[d.style.transitionDuration]=j+"ms";this.fadeTimeout=setTimeout((function(m){this.wrapperStyle.opacity=m;this.visible=+m;}).bind(this,l),i);}};g.utils=d;f.IScroll=g;}(window);+function(g){var f={scrollTop:g.fn.scrollTop,scrollLeft:g.fn.scrollLeft};(function(){g.extend(g.fn,{scrollTop:function(j,i){if(!this.length){return;}var h=this.data("scroller");if(h&&h.scroller){return h.scrollTop(j,i);}else{return f.scrollTop.apply(this,arguments);}}});g.extend(g.fn,{scrollLeft:function(j,i){if(!this.length){return;}var h=this.data("scroller");if(h&&h.scroller){return h.scrollLeft(j,i);}else{return f.scrollLeft.apply(this,arguments);}}});})();var d=function(i,r){var l=this.$pageContent=g(i);this.options=g.extend({},this._defaults,r);var o=this.options.type;var p=(o==="js")||(o==="auto"&&(g.device.android&&g.compareVersion("4.4.0",g.device.osVersion)>-1)||(o==="auto"&&(g.device.ios&&g.compareVersion("6.0.0",g.device.osVersion)>-1)));if(p){var j=l.find(".content-inner");if(!j[0]){var k=l.children();if(k.length<1){l.children().wrapAll('<div class="content-inner"></div>');}else{l.html('<div class="content-inner">'+l.html()+"</div>");}}if(l.hasClass("pull-to-refresh-content")){var q=g(window).height()+(l.prev().hasClass(".bar")?1:61);l.find(".content-inner").css("min-height",q+"px");}var h=g(i).hasClass("pull-to-refresh-content");var m=l.find(".fixed-tab").length===0;var s={probeType:1,mouseWheel:true,click:g.device.androidChrome,useTransform:m,scrollX:true};if(h){s.ptr=true;s.ptrOffset=44;}this.scroller=new IScroll(i,s);this._bindEventToDomWhenJs();g.initPullToRefresh=g._pullToRefreshJSScroll.initPullToRefresh;g.pullToRefreshDone=g._pullToRefreshJSScroll.pullToRefreshDone;g.pullToRefreshTrigger=g._pullToRefreshJSScroll.pullToRefreshTrigger;g.destroyToRefresh=g._pullToRefreshJSScroll.destroyToRefresh;l.addClass("javascript-scroll");if(!m){l.find(".content-inner").css({width:"100%",position:"absolute"});}var n=this.$pageContent[0].scrollTop;if(n){this.$pageContent[0].scrollTop=0;this.scrollTop(n);}}else{l.addClass("native-scroll");}};d.prototype={_defaults:{type:"native",},_bindEventToDomWhenJs:function(){if(this.scroller){var h=this;this.scroller.on("scrollStart",function(){h.$pageContent.trigger("scrollstart");});this.scroller.on("scroll",function(){h.$pageContent.trigger("scroll");});this.scroller.on("scrollEnd",function(){h.$pageContent.trigger("scrollend");});}else{}},scrollTop:function(i,h){if(this.scroller){if(i!==undefined){this.scroller.scrollTo(0,-1*i,h);}else{return this.scroller.getComputedPosition().y*-1;}}else{return this.$pageContent.scrollTop(i,h);}return this;},scrollLeft:function(i,h){if(this.scroller){if(i!==undefined){this.scroller.scrollTo(-1*i,0);}else{return this.scroller.getComputedPosition().x*-1;}}else{return this.$pageContent.scrollTop(i,h);}return this;},on:function(h,i){if(this.scroller){this.scroller.on(h,function(){i.call(this.wrapper);});}else{this.$pageContent.on(h,i);}return this;},off:function(h,i){if(this.scroller){this.scroller.off(h,i);}else{this.$pageContent.off(h,i);}return this;},refresh:function(){if(this.scroller){this.scroller.refresh();}return this;},scrollHeight:function(){if(this.scroller){return this.scroller.scrollerHeight;}else{return this.$pageContent[0].scrollHeight;}}};function e(j){var h=Array.apply(null,arguments);h.shift();var i;this.each(function(){var m=g(this);var k=g.extend({},m.dataset(),typeof j==="object"&&j);var l=m.data("scroller");if(!l){m.data("scroller",(l=new d(this,k)));}if(typeof j==="string"&&typeof l[j]==="function"){i=l[j].apply(l,h);if(i!==undefined){return false;}}});if(i!==undefined){return i;}else{return this;}}var c=g.fn.scroller;g.fn.scroller=e;g.fn.scroller.Constructor=d;g.fn.scroller.noConflict=function(){g.fn.scroller=c;return this;};g(function(){g('[data-toggle="scroller"]').scroller();});g.refreshScroller=function(h){if(h){g(h).scroller("refresh");}else{g(".javascript-scroll").each(function(){g(this).scroller("refresh");});}};g.initScroller=function(h){this.options=g.extend({},typeof h==="object"&&h);g('[data-toggle="scroller"],.content').scroller(h);};g.getScroller=function(h){h=h.hasClass("content")?h:h.parents(".content");if(h){return g(h).data("scroller");}else{return g(".content.javascript-scroll").data("scroller");}};g.detectScrollerType=function(h){if(h){if(g(h).data("scroller")&&g(h).data("scroller").scroller){return"js";}else{return"native";}}};}(Zepto);+function(e){var d=function(g,m,h){var l=e(g);if(arguments.length===2){if(typeof m==="boolean"){h=m;}}if(l.length===0){return false;}if(l.hasClass("active")){if(h){l.trigger("show");}return false;}var f=l.parent(".tabs");if(f.length===0){return false;}var j=f.children(".tab.active").removeClass("active");l.addClass("active");l.trigger("show");if(m){m=e(m);}else{if(typeof g==="string"){m=e('.tab-link[href="'+g+'"]');}else{m=e('.tab-link[href="#'+l.attr("id")+'"]');}if(!m||m&&m.length===0){e("[data-tab]").each(function(){if(l.is(e(this).attr("data-tab"))){m=e(this);}});}}if(m.length===0){return;}var i;if(j&&j.length>0){var k=j.attr("id");if(k){i=e('.tab-link[href="#'+k+'"]');}if(!i||i&&i.length===0){e("[data-tab]").each(function(){if(j.is(e(this).attr("data-tab"))){i=e(this);}});}}if(m&&m.length>0){m.addClass("active");}if(i&&i.length>0){i.removeClass("active");}m.trigger("active");return true;};var c=e.showTab;e.showTab=d;e.showTab.noConflict=function(){e.showTab=c;return this;};e(document).on("click",".tab-link",function(g){g.preventDefault();var f=e(this);d(f.data("tab")||f.attr("href"),f);});}(Zepto);+function(d){d.initFixedTab=function(){var f=d(".fixed-tab");if(f.length===0){return;}d(".fixed-tab").fixedTab();};var e=function(h,f){var g=this.$pageContent=d(h);var j=g.clone();var i=g[0].getBoundingClientRect().top;j.css("visibility","hidden");this.options=d.extend({},this._defaults,{fixedTop:i,shadow:j,offset:0},f);this._bindEvents();};e.prototype={_defaults:{offset:0,},_bindEvents:function(){this.$pageContent.parents(".content").on("scroll",this._scrollHandler.bind(this));this.$pageContent.on("active",".tab-link",this._tabLinkHandler.bind(this));},_tabLinkHandler:function(f){var g=d(f.target).parents(".buttons-fixed").length>0;var i=this.options.fixedTop;var h=this.options.offset;d.refreshScroller();if(!g){return;}this.$pageContent.parents(".content").scrollTop(i-h);},_scrollHandler:function(g){var k=d(g.target);var f=this.$pageContent;var m=this.options.shadow;var j=this.options.offset;var l=this.options.fixedTop;var i=k.scrollTop();var h=i>=l-j;if(h){m.insertAfter(f);f.addClass("buttons-fixed").css("top",j);}else{m.remove();f.removeClass("buttons-fixed").css("top",0);}}};function c(g){var f=Array.apply(null,arguments);f.shift();this.each(function(){var j=d(this);var h=d.extend({},j.dataset(),typeof g==="object"&&g);var i=j.data("fixedtab");if(!i){j.data("fixedtab",(i=new e(this,h)));}});}d.fn.fixedTab=c;d.fn.fixedTab.Constructor=e;d(document).on("pageInit",function(){d.initFixedTab();});}(Zepto);+function(g){var f=0;var h=function(m){var l=g(m);if(!l.hasClass("pull-to-refresh-content")){l=l.find(".pull-to-refresh-content");}if(!l||l.length===0){return;}var o=l.hasClass("content")?l:l.parents(".content");var i=g.getScroller(o[0]);if(!i){return;}var j=l;function k(){if(j.hasClass("refreshing")){return;}if(i.scrollTop()*-1>=44){j.removeClass("pull-down").addClass("pull-up");}else{j.removeClass("pull-up").addClass("pull-down");}}function n(){if(j.hasClass("refreshing")){return;}j.removeClass("pull-down pull-up");j.addClass("refreshing transitioning");j.trigger("refresh");f=+new Date();}i.on("scroll",k);i.scroller.on("ptr",n);function p(){i.off("scroll",k);i.scroller.off("ptr",n);}l[0].destroyPullToRefresh=p;};var d=function(j){j=g(j);if(j.length===0){j=g(".pull-to-refresh-content.refreshing");}if(j.length===0){return;}var k=(+new Date())-f;var l=k>1000?0:1000-k;var i=g.getScroller(j);setTimeout(function(){i.refresh();j.removeClass("refreshing");j.transitionEnd(function(){j.removeClass("transitioning");});},l);};var c=function(j){j=g(j);if(j.length===0){j=g(".pull-to-refresh-content");}if(j.hasClass("refreshing")){return;}j.addClass("refreshing");var i=g.getScroller(j);i.scrollTop(44+1,200);j.trigger("refresh");};var e=function(j){j=g(j);var i=j.hasClass("pull-to-refresh-content")?j:j.find(".pull-to-refresh-content");if(i.length===0){return;}if(i[0].destroyPullToRefresh){i[0].destroyPullToRefresh();}};g._pullToRefreshJSScroll={initPullToRefresh:h,pullToRefreshDone:d,pullToRefreshTrigger:c,destroyPullToRefresh:e,};}(Zepto);+function(c){c.initPullToRefresh=function(v){var r=c(v);if(!r.hasClass("pull-to-refresh-content")){r=r.find(".pull-to-refresh-content");}if(!r||r.length===0){return;}var u,l,f={},x,t,h,p,g=false,o=false,w=0,n,e,i,d,s;p=r;if(p.attr("data-ptr-distance")){s=true;}else{d=44;}function k(y){if(u){if(c.device.android){if("targetTouches" in y&&y.targetTouches.length>1){return;}}else{return;}}l=false;u=true;x=undefined;i=undefined;f.x=y.type==="touchstart"?y.targetTouches[0].pageX:y.pageX;f.y=y.type==="touchstart"?y.targetTouches[0].pageY:y.pageY;h=(new Date()).getTime();p=c(this);}function m(A){if(!u){return;}var z=A.type==="touchmove"?A.targetTouches[0].pageX:A.pageX;var y=A.type==="touchmove"?A.targetTouches[0].pageY:A.pageY;if(typeof x==="undefined"){x=!!(x||Math.abs(y-f.y)>Math.abs(z-f.x));}if(!x){u=false;return;}e=p[0].scrollTop;if(typeof i==="undefined"&&e!==0){i=true;}if(!l){p.removeClass("transitioning");if(e>p[0].offsetHeight){u=false;return;}if(s){d=p.attr("data-ptr-distance");if(d.indexOf("%")>=0){d=p[0].offsetHeight*parseInt(d,10)/100;}}w=p.hasClass("refreshing")?d:0;if(p[0].scrollHeight===p[0].offsetHeight||!c.device.ios){o=true;}else{o=false;}o=true;}l=true;t=y-f.y;if(t>0&&e<=0||e<0){if(c.device.ios&&parseInt(c.device.osVersion.split(".")[0],10)>7&&e===0&&!i){o=true;}if(o){A.preventDefault();n=(Math.pow(t,0.85)+w);p.transform("translate3d(0,"+n+"px,0)");}else{}if((o&&Math.pow(t,0.85)>d)||(!o&&t>=d*2)){g=true;p.addClass("pull-up").removeClass("pull-down");}else{g=false;p.removeClass("pull-up").addClass("pull-down");}}else{p.removeClass("pull-up pull-down");g=false;return;}}function q(){if(!u||!l){u=false;l=false;return;}if(n){p.addClass("transitioning");n=0;}p.transform("");if(g){if(p.hasClass("refreshing")){return;}p.addClass("refreshing");p.trigger("refresh");}else{p.removeClass("pull-down");}u=false;l=false;}r.on(c.touchEvents.start,k);r.on(c.touchEvents.move,m);r.on(c.touchEvents.end,q);function j(){r.off(c.touchEvents.start,k);r.off(c.touchEvents.move,m);r.off(c.touchEvents.end,q);}r[0].destroyPullToRefresh=j;};c.pullToRefreshDone=function(d){c(window).scrollTop(0);d=c(d);if(d.length===0){d=c(".pull-to-refresh-content.refreshing");}d.removeClass("refreshing").addClass("transitioning");d.transitionEnd(function(){d.removeClass("transitioning pull-up pull-down");});};c.pullToRefreshTrigger=function(d){d=c(d);if(d.length===0){d=c(".pull-to-refresh-content");}if(d.hasClass("refreshing")){return;}d.addClass("transitioning refreshing");d.trigger("refresh");};c.destroyPullToRefresh=function(e){e=c(e);var d=e.hasClass("pull-to-refresh-content")?e:e.find(".pull-to-refresh-content");if(d.length===0){return;}if(d[0].destroyPullToRefresh){d[0].destroyPullToRefresh();}};}(Zepto);+function(d){function c(){var f=d(this);var j=d.getScroller(f);var g=j.scrollTop();var m=j.scrollHeight();var l=f[0].offsetHeight;var e=f[0].getAttribute("data-distance");var k=f.find(".virtual-list");var i;var h=f.hasClass("infinite-scroll-top");if(!e){e=50;}if(typeof e==="string"&&e.indexOf("%")>=0){e=parseInt(e,10)/100*l;}if(e>l){e=l;}if(h){if(g<e){f.trigger("infinite");}}else{if(g+l>=m-e){if(k.length>0){i=k[0].f7VirtualList;if(i&&!i.reachEnd){return;}}f.trigger("infinite");}}}d.attachInfiniteScroll=function(e){d.getScroller(e).on("scroll",c);};d.detachInfiniteScroll=function(e){d.getScroller(e).off("scroll",c);};d.initInfiniteScroll=function(g){g=d(g);var f=g.hasClass("infinite-scroll")?g:g.find(".infinite-scroll");if(f.length===0){return;}d.attachInfiniteScroll(f);g.forEach(function(i){if(d(i).hasClass("infinite-scroll-top")){var h=i.scrollHeight-i.clientHeight;d(i).scrollTop(h);}});function e(){d.detachInfiniteScroll(f);g.off("pageBeforeRemove",e);}};}(Zepto);+function(c){c(function(){c(document).on("focus",".searchbar input",function(d){pageContainer.on("pageBeforeRemove",detachEvents);var f=c(d.target);f.parents(".searchbar").addClass("searchbar-active");});c(document).on("click",".searchbar-cancel",function(f){var d=c(f.target);d.parents(".searchbar").removeClass("searchbar-active");});c(document).on("blur",".searchbar input",function(d){var f=c(d.target);f.parents(".searchbar").removeClass("searchbar-active");});});}(Zepto);+function(c){c.allowPanelOpen=true;c.openPanel=function(d){if(!c.allowPanelOpen){return false;}if(d==="left"||d==="right"){d=".panel-"+d;}d=d?c(d):c(".panel").eq(0);var h=d.hasClass("panel-right")?"right":"left";if(d.length===0||d.hasClass("active")){return false;}c.closePanel();c.allowPanelOpen=false;var f=d.hasClass("panel-reveal")?"reveal":"cover";d.css({display:"block"}).addClass("active");d.trigger("open");var j=d[0].clientLeft;var e=f==="reveal"?c(c.getCurrentPage()):d;var i=false;function g(){e.transitionEnd(function(k){if(k.target===e[0]){if(d.hasClass("active")){d.trigger("opened");}else{d.trigger("closed");}c.allowPanelOpen=true;}else{g();}});}g();c(document.body).addClass("with-panel-"+h+"-"+f);return true;};c.closePanel=function(){var f=c(".panel.active");if(f.length===0){return false;}var e=f.hasClass("panel-reveal")?"reveal":"cover";var g=f.hasClass("panel-left")?"left":"right";f.removeClass("active");var d=e==="reveal"?c(".page"):f;f.trigger("close");c.allowPanelOpen=false;d.transitionEnd(function(){if(f.hasClass("active")){return;}f.css({display:""});f.trigger("closed");c("body").removeClass("panel-closing");c.allowPanelOpen=true;});c("body").addClass("panel-closing").removeClass("with-panel-"+g+"-"+e);};c(document).on("click",".open-panel",function(f){var d=c(f.target).data("panel");c.openPanel(d);});c(document).on("click",".close-panel, .panel-overlay",function(d){c.closePanel();});c.initSwipePanels=function(){var p,f;var e=c.smConfig.swipePanel;var v=c.smConfig.swipePanelOnlyClose;var u=true;var t=false;var A=2;var h=false;if(!(e||v)){return;}var j=c(".panel-overlay");var w,m,z,g={},i,s,o,x,d,r,y;var k=c(".page");function l(B){if(!c.allowPanelOpen||(!e&&!v)||w){return;}if(c(".modal-in, .photo-browser-in").length>0){return;}if(!(u||v)){if(c(".panel.active").length>0&&!p.hasClass("active")){return;}}g.x=B.type==="touchstart"?B.targetTouches[0].pageX:B.pageX;g.y=B.type==="touchstart"?B.targetTouches[0].pageY:B.pageY;if(u||v){if(c(".panel.active").length>0){f=c(".panel.active").hasClass("panel-left")?"left":"right";}else{if(v){return;}f=e;}if(!f){return;}}p=c(".panel.panel-"+f);if(!p[0]){return;}x=p.hasClass("active");if(t&&!x){if(f==="left"){if(g.x>t){return;}}if(f==="right"){if(g.x<window.innerWidth-t){return;}}}m=false;w=true;z=undefined;i=(new Date()).getTime();y=undefined;}function n(E){if(!w){return;}if(!p[0]){return;}if(E.f7PreventPanelSwipe){return;}var D=E.type==="touchmove"?E.targetTouches[0].pageX:E.pageX;var C=E.type==="touchmove"?E.targetTouches[0].pageY:E.pageY;if(typeof z==="undefined"){z=!!(z||Math.abs(C-g.y)>Math.abs(D-g.x));}if(z){w=false;return;}if(!y){if(D>g.x){y="to-right";}else{y="to-left";}if(f==="left"&&(y==="to-left"&&!p.hasClass("active"))||f==="right"&&(y==="to-right"&&!p.hasClass("active"))){w=false;return;}}if(h){var F=(new Date()).getTime()-i;if(F<300){if(y==="to-left"){if(f==="right"){c.openPanel(f);}if(f==="left"&&p.hasClass("active")){c.closePanel();}}if(y==="to-right"){if(f==="left"){c.openPanel(f);}if(f==="right"&&p.hasClass("active")){c.closePanel();}}}w=false;console.log(3);m=false;return;}if(!m){r=p.hasClass("panel-cover")?"cover":"reveal";if(!x){p.show();j.show();}d=p[0].offsetWidth;p.transition(0);}m=true;E.preventDefault();var B=x?0:-A;if(f==="right"){B=-B;}s=D-g.x+B;if(f==="right"){o=s-(x?d:0);if(o>0){o=0;}if(o<-d){o=-d;}}else{o=s+(x?d:0);if(o<0){o=0;}if(o>d){o=d;}}if(r==="reveal"){k.transform("translate3d("+o+"px,0,0)").transition(0);j.transform("translate3d("+o+"px,0,0)");}else{p.transform("translate3d("+o+"px,0,0)").transition(0);}}function q(E){if(!w||!m){w=false;m=false;return;}w=false;m=false;var F=(new Date()).getTime()-i;var C;var B=(o===0||Math.abs(o)===d);if(!x){if(o===0){C="reset";}else{if(F<300&&Math.abs(o)>0||F>=300&&(Math.abs(o)>=d/2)){C="swap";}else{C="reset";}}}else{if(o===-d){C="reset";}else{if(F<300&&Math.abs(o)>=0||F>=300&&(Math.abs(o)<=d/2)){if(f==="left"&&o===d){C="reset";}else{C="swap";}}else{C="reset";}}}if(C==="swap"){c.allowPanelOpen=true;if(x){c.closePanel();if(B){p.css({display:""});c("body").removeClass("panel-closing");}}else{c.openPanel(f);}if(B){c.allowPanelOpen=true;}}if(C==="reset"){if(x){c.allowPanelOpen=true;c.openPanel(f);}else{c.closePanel();if(B){c.allowPanelOpen=true;p.css({display:""});}else{var D=r==="reveal"?k:p;c("body").addClass("panel-closing");D.transitionEnd(function(){c.allowPanelOpen=true;p.css({display:""});c("body").removeClass("panel-closing");});}}}if(r==="reveal"){k.transition("");k.transform("");}p.transition("").transform("");j.css({display:""}).transform("");}c(document).on(c.touchEvents.start,l);c(document).on(c.touchEvents.move,n);c(document).on(c.touchEvents.end,q);};c.initSwipePanels();}(Zepto);+function(g){if(!window.CustomEvent){window.CustomEvent=function(m,l){l=l||{bubbles:false,cancelable:false,detail:undefined};var n=document.createEvent("CustomEvent");n.initCustomEvent(m,l.bubbles,l.cancelable,l.detail);return n;};window.CustomEvent.prototype=window.Event.prototype;}var h={pageLoadStart:"pageLoadStart",pageLoadCancel:"pageLoadCancel",pageLoadError:"pageLoadError",pageLoadComplete:"pageLoadComplete",pageAnimationStart:"pageAnimationStart",pageAnimationEnd:"pageAnimationEnd",beforePageRemove:"beforePageRemove",pageRemoved:"pageRemoved",beforePageSwitch:"beforePageSwitch",pageInit:"pageInitInternal"};var j={getUrlFragment:function(l){var m=l.indexOf("#");return m===-1?"":l.slice(m+1);},getAbsoluteUrl:function(l){var m=document.createElement("a");m.setAttribute("href",l);var n=m.href;m=null;return n;},getBaseUrl:function(l){var m=l.indexOf("#");return m===-1?l.slice(0):l.slice(0,m);},toUrlObject:function(n){var l=this.getAbsoluteUrl(n),o=this.getBaseUrl(l),m=this.getUrlFragment(n);return{base:o,full:l,original:n,fragment:m};},supportStorage:function(){var l="sm.router.storage.ability";try{sessionStorage.setItem(l,l);sessionStorage.removeItem(l);return true;}catch(m){return false;}}};var e={sectionGroupClass:"page-group",curPageClass:"page-current",visiblePageClass:"page-visible",pageClass:"page"};var d={leftToRight:"from-left-to-right",rightToLeft:"from-right-to-left"};var k=window.history;var f=function(){this.sessionNames={currentState:"sm.router.currentState",maxStateId:"sm.router.maxStateId"};this._init();this.xhr=null;window.addEventListener("popstate",this._onPopState.bind(this));};f.prototype._init=function(){this.$view=g("body");this.cache={};var o=g(document);var r=location.href;this._saveDocumentIntoCache(o,r);var t;var q=j.toUrlObject(r);var n=o.find("."+e.pageClass);var l=o.find("."+e.curPageClass);var s=l.eq(0);var m;if(q.fragment){m=o.find("#"+q.fragment);}if(m&&m.length){l=m.eq(0);}else{if(!l.length){l=n.eq(0);}}if(!l.attr("id")){l.attr("id",this._generateRandomId());}if(s.length&&(s.attr("id")!==l.attr("id"))){s.removeClass(e.curPageClass);l.addClass(e.curPageClass);}else{l.addClass(e.curPageClass);}t=l.attr("id");if(k.state===null){var p={id:this._getNextStateId(),url:j.toUrlObject(r),pageId:t};k.replaceState(p,"",r);this._saveAsCurrentState(p);this._incMaxStateId();}};f.prototype.load=function(l,m){if(m===undefined){m=false;}if(this._isTheSameDocument(location.href,l)){this._switchToSection(j.getUrlFragment(l));}else{this._saveDocumentIntoCache(g(document),location.href);this._switchToDocument(l,m);}};f.prototype.forward=function(){k.forward();};f.prototype.back=function(){k.back();};f.prototype.loadPage=f.prototype.load;f.prototype._switchToSection=function(n){if(!n){return;}var l=this._getCurrentSection(),m=g("#"+n);if(l===m){return;}this._animateSection(l,m,d.rightToLeft);this._pushNewState("#"+n,n);};f.prototype._switchToDocument=function(l,q,r,p){var o=j.toUrlObject(l).base;if(q){delete this.cache[o];}var n=this.cache[o];var m=this;if(n){this._doSwitchDocument(l,r,p);}else{this._loadDocument(l,{success:function(t){try{m._parseDocument(l,t);m._doSwitchDocument(l,r,p);}catch(s){location.href=l;}},error:function(){location.href=l;}});}};f.prototype._doSwitchDocument=function(m,s,t){if(typeof s==="undefined"){s=true;}var o=j.toUrlObject(m);var p=this.$view.find("."+e.sectionGroupClass);var q=g(g("<div></div>").append(this.cache[o.base].$content).html());var r=q.find("."+e.pageClass);var l=q.find("."+e.curPageClass);var n;if(o.fragment){n=q.find("#"+o.fragment);}if(n&&n.length){l=n.eq(0);}else{if(!l.length){l=r.eq(0);}}if(!l.attr("id")){l.attr("id",this._generateRandomId());}var u=this._getCurrentSection();u.trigger(h.beforePageSwitch,[u.attr("id"),u]);r.removeClass(e.curPageClass);l.addClass(e.curPageClass);this.$view.prepend(q);this._animateDocument(p,q,l,t);if(s){this._pushNewState(m,l.attr("id"));}};f.prototype._isTheSameDocument=function(l,m){return j.toUrlObject(l).base===j.toUrlObject(m).base;};f.prototype._loadDocument=function(m,n){if(this.xhr&&this.xhr.readyState<4){this.xhr.onreadystatechange=function(){};this.xhr.abort();this.dispatch(h.pageLoadCancel);}this.dispatch(h.pageLoadStart);n=n||{};var l=this;this.xhr=g.ajax({url:m,success:g.proxy(function(p,o,q){var r=g("<html></html>");r.append(p);n.success&&n.success.call(null,r,o,q);},this),error:function(q,o,p){n.error&&n.error.call(null,q,o,p);l.dispatch(h.pageLoadError);},complete:function(p,o){n.complete&&n.complete.call(null,p,o);l.dispatch(h.pageLoadComplete);}});};f.prototype._parseDocument=function(l,n){var m=n.find("."+e.sectionGroupClass);if(!m.length){throw new Error("missing router view mark: "+e.sectionGroupClass);}this._saveDocumentIntoCache(n,l);};f.prototype._saveDocumentIntoCache=function(n,l){var m=j.toUrlObject(l).base;var o=g(n);this.cache[m]={$doc:o,$content:o.find("."+e.sectionGroupClass)};};f.prototype._getLastState=function(){var l=sessionStorage.getItem(this.sessionNames.currentState);try{l=JSON.parse(l);}catch(m){l=null;}return l;};f.prototype._saveAsCurrentState=function(l){sessionStorage.setItem(this.sessionNames.currentState,JSON.stringify(l));};f.prototype._getNextStateId=function(){var l=sessionStorage.getItem(this.sessionNames.maxStateId);return l?parseInt(l,10)+1:1;};f.prototype._incMaxStateId=function(){sessionStorage.setItem(this.sessionNames.maxStateId,this._getNextStateId());};f.prototype._animateDocument=function(n,q,p,o){var m=p.attr("id");var l=n.find("."+e.curPageClass);l.addClass(e.visiblePageClass).removeClass(e.curPageClass);p.trigger(h.pageAnimationStart,[m,p]);this._animateElement(n,q,o);n.animationEnd(function(){l.removeClass(e.visiblePageClass);g(window).trigger(h.beforePageRemove,[n]);n.remove();g(window).trigger(h.pageRemoved);});q.animationEnd(function(){p.trigger(h.pageAnimationEnd,[m,p]);p.trigger(h.pageInit,[m,p]);});};f.prototype._animateSection=function(m,o,n){var l=o.attr("id");m.trigger(h.beforePageSwitch,[m.attr("id"),m]);m.removeClass(e.curPageClass);o.addClass(e.curPageClass);o.trigger(h.pageAnimationStart,[l,o]);this._animateElement(m,o,n);o.animationEnd(function(){o.trigger(h.pageAnimationEnd,[l,o]);o.trigger(h.pageInit,[l,o]);});};f.prototype._animateElement=function(n,q,p){if(typeof p==="undefined"){p=d.rightToLeft;}var m=["page-from-center-to-left","page-from-center-to-right","page-from-right-to-center","page-from-left-to-center"].join(" ");var o,l;switch(p){case d.rightToLeft:o="page-from-center-to-left";l="page-from-right-to-center";break;case d.leftToRight:o="page-from-center-to-right";l="page-from-left-to-center";break;default:o="page-from-center-to-left";l="page-from-right-to-center";break;}n.removeClass(m).addClass(o);q.removeClass(m).addClass(l);n.animationEnd(function(){n.removeClass(m);});q.animationEnd(function(){q.removeClass(m);});};f.prototype._getCurrentSection=function(){return this.$view.find("."+e.curPageClass).eq(0);};f.prototype._back=function(m,n){if(this._isTheSameDocument(m.url.full,n.url.full)){var l=g("#"+m.pageId);if(l.length){var o=this._getCurrentSection();this._animateSection(o,l,d.leftToRight);this._saveAsCurrentState(m);}else{location.href=m.url.full;}}else{this._saveDocumentIntoCache(g(document),n.url.full);this._switchToDocument(m.url.full,false,false,d.leftToRight);this._saveAsCurrentState(m);}};f.prototype._forward=function(m,n){if(this._isTheSameDocument(m.url.full,n.url.full)){var l=g("#"+m.pageId);if(l.length){var o=this._getCurrentSection();this._animateSection(o,l,d.rightToLeft);this._saveAsCurrentState(m);}else{location.href=m.url.full;}}else{this._saveDocumentIntoCache(g(document),n.url.full);this._switchToDocument(m.url.full,false,false,d.rightToLeft);this._saveAsCurrentState(m);}};f.prototype._onPopState=function(m){var n=m.state;if(!n||!n.pageId){return;}var l=this._getLastState();if(!l){console.error&&console.error("Missing last state when backward or forward");return;}if(n.id===l.id){return;}if(n.id<l.id){this._back(n,l);}else{this._forward(n,l);}};f.prototype._pushNewState=function(l,m){var n={id:this._getNextStateId(),pageId:m,url:j.toUrlObject(l)};k.pushState(n,"",l);this._saveAsCurrentState(n);this._incMaxStateId();};f.prototype._generateRandomId=function(){return"page-"+(+new Date());};f.prototype.dispatch=function(l){var m=new CustomEvent(l,{bubbles:true,cancelable:true});window.dispatchEvent(m);};function i(l){var n=["external","tab-link","open-popup","close-popup","open-panel","close-panel"];for(var m=n.length-1;m>=0;m--){if(l.hasClass(n[m])){return true;}}var o=l.get(0);var p=o.getAttribute("href");var q=["http","https"];if(/^(\w+):/.test(p)&&q.indexOf(RegExp.$1)<0){return true;}if(o.hasAttribute("external")){return true;}return false;}function c(l){var n=g.smConfig.routerFilter;if(g.isFunction(n)){var m=n(l);if(typeof m==="boolean"){return m;}}return true;}g(function(){if(!g.smConfig.router){return;}if(!j.supportStorage()){return;}var n=g("."+e.pageClass);if(!n.length){var m="Disable router function because of no .page elements";if(window.console&&window.console.warn){console.warn(m);}return;}var l=g.router=new f();g(document).on("click","a",function(s){var o=g(s.currentTarget);var q=c(o);if(!q){return;}if(i(o)){return;}s.preventDefault();if(o.hasClass("back")){l.back();}else{var p=o.attr("href");if(!p||p==="#"){return;}var r=o.attr("data-no-cache")==="true";l.load(p,r);}});});}(Zepto);+function(c){c.lastPosition=function(d){if(!sessionStorage){return;}var g=d.needMemoryClass||[];c(window).off("beforePageSwitch").on("beforePageSwitch",function(i,j,h){f(j,h);});c(window).off("pageAnimationStart").on("pageAnimationStart",function(i,j,h){e(j,h);});function e(i,h){g.forEach(function(k,j){if(c(k).length===0){return;}var m=i;var l=sessionStorage.getItem(m);h.find(k).scrollTop(parseInt(l));});}function f(j,h){var i=j;g.forEach(function(l,k){if(c(l).length===0){return;}sessionStorage.setItem(i,h.find(l).scrollTop());});}};}(Zepto);+function(d){var c=function(){var e=d(".page-current");if(!e[0]){e=d(".page").addClass("page-current");}return e;};d.initPage=function(g){var f=c();if(!f[0]){f=d(document.body);}var e=f.hasClass("content")?f:f.find(".content");e.scroller();d.initPullToRefresh(e);d.initInfiniteScroll(e);d.initCalendar(e);if(d.config.autoInitSwiper&&d.initSwiper){d.initSwiper(e);}};if(d.smConfig.showPageLoadingIndicator){d(window).on("pageLoadStart",function(){d.showIndicator();});d(window).on("pageAnimationStart",function(){d.hideIndicator();});d(window).on("pageLoadCancel",function(){d.hideIndicator();});d(window).on("pageLoadComplete",function(){d.hideIndicator();});d(window).on("pageLoadError",function(){d.hideIndicator();d.toast("加载失败");});}d(window).on("pageAnimationStart",function(e,g,f){d.closeModal();d.closePanel();d("body").removeClass("panel-closing");d.allowPanelOpen=true;});d(window).on("pageInit",function(){d.hideIndicator();d.lastPosition({needMemoryClass:[".content"]});});window.addEventListener("pageshow",function(e){if(e.persisted){location.reload();}});d.init=function(){var e=c();var f=e[0].id;d.initPage();e.trigger("pageInit",[f,e]);};d(function(){FastClick.attach(document.body);if(d.smConfig.autoInit){d.init();}d(document).on("pageInitInternal",function(g,h,f){d.init();});});}(Zepto);+function(e){if(e.device.ios){var c=function(h){var g;var f;h=h||document.querySelector(h);if(!h){return;}h.addEventListener("touchstart",function(i){g=i.touches[0].pageY;f=h.scrollTop;if(f<=0){h.scrollTop=1;}if(f+h.offsetHeight>=h.scrollHeight){h.scrollTop=h.scrollHeight-h.offsetHeight-1;}},false);};var d=function(){var g=e(".page-current").length>0?".page-current ":"";var f=e(g+".content");new c(f[0]);};e(document).on(e.touchEvents.move,".page-current .bar",function(){event.preventDefault();});e(document).on("pageLoadComplete",function(){d();});e(document).on("pageAnimationEnd",function(){d();});d();}}(Zepto);
/*!
     * =====================================================
     * SUI Mobile - http://m.sui.taobao.org/
     *
     * =====================================================
     */
+function(d){var c=function(u,H){var q=this.defaults;var e=H&&H.virtualTranslate;H=H||{};for(var v in q){if(typeof H[v]==="undefined"){H[v]=q[v];}else{if(typeof H[v]==="object"){for(var i in q[v]){if(typeof H[v][i]==="undefined"){H[v][i]=q[v][i];}}}}}var x=this;x.params=H;x.classNames=[];x.$=d;x.container=d(u);if(x.container.length===0){return;}if(x.container.length>1){x.container.each(function(){new d.Swiper(this,H);});return;}x.container[0].swiper=x;x.container.data("swiper",x);x.classNames.push("swiper-container-"+x.params.direction);if(x.params.freeMode){x.classNames.push("swiper-container-free-mode");}if(!x.support.flexbox){x.classNames.push("swiper-container-no-flexbox");x.params.slidesPerColumn=1;}if(x.params.parallax||x.params.watchSlidesVisibility){x.params.watchSlidesProgress=true;}if(["cube","coverflow"].indexOf(x.params.effect)>=0){if(x.support.transforms3d){x.params.watchSlidesProgress=true;x.classNames.push("swiper-container-3d");}else{x.params.effect="slide";}}if(x.params.effect!=="slide"){x.classNames.push("swiper-container-"+x.params.effect);}if(x.params.effect==="cube"){x.params.resistanceRatio=0;x.params.slidesPerView=1;x.params.slidesPerColumn=1;x.params.slidesPerGroup=1;x.params.centeredSlides=false;x.params.spaceBetween=0;x.params.virtualTranslate=true;x.params.setWrapperSize=false;}if(x.params.effect==="fade"){x.params.slidesPerView=1;x.params.slidesPerColumn=1;x.params.slidesPerGroup=1;x.params.watchSlidesProgress=true;x.params.spaceBetween=0;if(typeof e==="undefined"){x.params.virtualTranslate=true;}}if(x.params.grabCursor&&x.support.touch){x.params.grabCursor=false;}x.wrapper=x.container.children("."+x.params.wrapperClass);if(x.params.pagination){x.paginationContainer=d(x.container).find(x.params.pagination);if(x.params.paginationClickable){x.paginationContainer.addClass("swiper-pagination-clickable");}}function A(){return x.params.direction==="horizontal";}x.rtl=A()&&(x.container[0].dir.toLowerCase()==="rtl"||x.container.css("direction")==="rtl");if(x.rtl){x.classNames.push("swiper-container-rtl");}if(x.rtl){x.wrongRTL=x.wrapper.css("display")==="-webkit-box";}if(x.params.slidesPerColumn>1){x.classNames.push("swiper-container-multirow");}if(x.device.android){x.classNames.push("swiper-container-android");}x.container.addClass(x.classNames.join(" "));x.translate=0;x.progress=0;x.velocity=0;x.lockSwipeToNext=function(){x.params.allowSwipeToNext=false;};x.lockSwipeToPrev=function(){x.params.allowSwipeToPrev=false;};x.lockSwipes=function(){x.params.allowSwipeToNext=x.params.allowSwipeToPrev=false;};x.unlockSwipeToNext=function(){x.params.allowSwipeToNext=true;};x.unlockSwipeToPrev=function(){x.params.allowSwipeToPrev=true;};x.unlockSwipes=function(){x.params.allowSwipeToNext=x.params.allowSwipeToPrev=true;};if(x.params.grabCursor){x.container[0].style.cursor="move";x.container[0].style.cursor="-webkit-grab";x.container[0].style.cursor="-moz-grab";x.container[0].style.cursor="grab";}x.imagesToLoad=[];x.imagesLoaded=0;x.loadImage=function(s,M,p,N){var L;function K(){if(N){N();}}if(!s.complete||!p){if(M){L=new Image();L.onload=K;L.onerror=K;L.src=M;}else{K();}}else{K();}};x.preloadImages=function(){x.imagesToLoad=x.container.find("img");function s(){if(typeof x==="undefined"||x===null){return;}if(x.imagesLoaded!==undefined){x.imagesLoaded++;}if(x.imagesLoaded===x.imagesToLoad.length){if(x.params.updateOnImagesReady){x.update();}x.emit("onImagesReady",x);}}for(var p=0;p<x.imagesToLoad.length;p++){x.loadImage(x.imagesToLoad[p],(x.imagesToLoad[p].currentSrc||x.imagesToLoad[p].getAttribute("src")),true,s);}};x.autoplayTimeoutId=undefined;x.autoplaying=false;x.autoplayPaused=false;function t(){x.autoplayTimeoutId=setTimeout(function(){if(x.params.loop){x.fixLoop();x._slideNext();}else{if(!x.isEnd){x._slideNext();}else{if(!H.autoplayStopOnLast){x._slideTo(0);}else{x.stopAutoplay();}}}},x.params.autoplay);}x.startAutoplay=function(){if(typeof x.autoplayTimeoutId!=="undefined"){return false;}if(!x.params.autoplay){return false;}if(x.autoplaying){return false;}x.autoplaying=true;x.emit("onAutoplayStart",x);t();};x.stopAutoplay=function(){if(!x.autoplayTimeoutId){return;}if(x.autoplayTimeoutId){clearTimeout(x.autoplayTimeoutId);}x.autoplaying=false;x.autoplayTimeoutId=undefined;x.emit("onAutoplayStop",x);};x.pauseAutoplay=function(p){if(x.autoplayPaused){return;}if(x.autoplayTimeoutId){clearTimeout(x.autoplayTimeoutId);}x.autoplayPaused=true;if(p===0){x.autoplayPaused=false;t();}else{x.wrapper.transitionEnd(function(){x.autoplayPaused=false;if(!x.autoplaying){x.stopAutoplay();}else{t();}});}};x.minTranslate=function(){return(-x.snapGrid[0]);};x.maxTranslate=function(){return(-x.snapGrid[x.snapGrid.length-1]);};x.updateContainerSize=function(){x.width=x.container[0].clientWidth;x.height=x.container[0].clientHeight;x.size=A()?x.width:x.height;};x.updateSlidesSize=function(){x.slides=x.wrapper.children("."+x.params.slideClass);x.snapGrid=[];x.slidesGrid=[];x.slidesSizesGrid=[];var U=x.params.spaceBetween,p=0,N,s=0,S=0;if(typeof U==="string"&&U.indexOf("%")>=0){U=parseFloat(U.replace("%",""))/100*x.size;}x.virtualSize=-U;if(x.rtl){x.slides.css({marginLeft:"",marginTop:""});}else{x.slides.css({marginRight:"",marginBottom:""});}var R;if(x.params.slidesPerColumn>1){if(Math.floor(x.slides.length/x.params.slidesPerColumn)===x.slides.length/x.params.slidesPerColumn){R=x.slides.length;}else{R=Math.ceil(x.slides.length/x.params.slidesPerColumn)*x.params.slidesPerColumn;}}var Q;for(N=0;N<x.slides.length;N++){Q=0;var P=x.slides.eq(N);if(x.params.slidesPerColumn>1){var T;var L,V;var O=x.params.slidesPerColumn;var K;if(x.params.slidesPerColumnFill==="column"){L=Math.floor(N/O);V=N-L*O;T=L+V*R/O;P.css({"-webkit-box-ordinal-group":T,"-moz-box-ordinal-group":T,"-ms-flex-order":T,"-webkit-order":T,order:T});}else{K=R/O;V=Math.floor(N/K);L=N-V*K;}P.css({"margin-top":(V!==0&&x.params.spaceBetween)&&(x.params.spaceBetween+"px")}).attr("data-swiper-column",L).attr("data-swiper-row",V);}if(P.css("display")==="none"){continue;}if(x.params.slidesPerView==="auto"){Q=A()?P.outerWidth(true):P.outerHeight(true);}else{Q=(x.size-(x.params.slidesPerView-1)*U)/x.params.slidesPerView;if(A()){x.slides[N].style.width=Q+"px";}else{x.slides[N].style.height=Q+"px";}}x.slides[N].swiperSlideSize=Q;x.slidesSizesGrid.push(Q);if(x.params.centeredSlides){p=p+Q/2+s/2+U;if(N===0){p=p-x.size/2-U;}if(Math.abs(p)<1/1000){p=0;}if((S)%x.params.slidesPerGroup===0){x.snapGrid.push(p);}x.slidesGrid.push(p);}else{if((S)%x.params.slidesPerGroup===0){x.snapGrid.push(p);}x.slidesGrid.push(p);p=p+Q+U;}x.virtualSize+=Q+U;s=Q;S++;}x.virtualSize=Math.max(x.virtualSize,x.size);var M;if(x.rtl&&x.wrongRTL&&(x.params.effect==="slide"||x.params.effect==="coverflow")){x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"});}if(!x.support.flexbox||x.params.setWrapperSize){if(A()){x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"});}else{x.wrapper.css({height:x.virtualSize+x.params.spaceBetween+"px"});}}if(x.params.slidesPerColumn>1){x.virtualSize=(Q+x.params.spaceBetween)*R;x.virtualSize=Math.ceil(x.virtualSize/x.params.slidesPerColumn)-x.params.spaceBetween;x.wrapper.css({width:x.virtualSize+x.params.spaceBetween+"px"});if(x.params.centeredSlides){M=[];for(N=0;N<x.snapGrid.length;N++){if(x.snapGrid[N]<x.virtualSize+x.snapGrid[0]){M.push(x.snapGrid[N]);}}x.snapGrid=M;}}if(!x.params.centeredSlides){M=[];for(N=0;N<x.snapGrid.length;N++){if(x.snapGrid[N]<=x.virtualSize-x.size){M.push(x.snapGrid[N]);}}x.snapGrid=M;if(Math.floor(x.virtualSize-x.size)>Math.floor(x.snapGrid[x.snapGrid.length-1])){x.snapGrid.push(x.virtualSize-x.size);}}if(x.snapGrid.length===0){x.snapGrid=[0];}if(x.params.spaceBetween!==0){if(A()){if(x.rtl){x.slides.css({marginLeft:U+"px"});}else{x.slides.css({marginRight:U+"px"});}}else{x.slides.css({marginBottom:U+"px"});}}if(x.params.watchSlidesProgress){x.updateSlidesOffset();}};x.updateSlidesOffset=function(){for(var p=0;p<x.slides.length;p++){x.slides[p].swiperSlideOffset=A()?x.slides[p].offsetLeft:x.slides[p].offsetTop;}};x.updateSlidesProgress=function(K){if(typeof K==="undefined"){K=x.translate||0;}if(x.slides.length===0){return;}if(typeof x.slides[0].swiperSlideOffset==="undefined"){x.updateSlidesOffset();}var L=x.params.centeredSlides?-K+x.size/2:-K;if(x.rtl){L=x.params.centeredSlides?K-x.size/2:K;}x.slides.removeClass(x.params.slideVisibleClass);for(var M=0;M<x.slides.length;M++){var P=x.slides[M];var p=(x.params.centeredSlides===true)?P.swiperSlideSize/2:0;var Q=(L-P.swiperSlideOffset-p)/(P.swiperSlideSize+x.params.spaceBetween);if(x.params.watchSlidesVisibility){var O=-(L-P.swiperSlideOffset-p);var s=O+x.slidesSizesGrid[M];var N=(O>=0&&O<x.size)||(s>0&&s<=x.size)||(O<=0&&s>=x.size);if(N){x.slides.eq(M).addClass(x.params.slideVisibleClass);}}P.progress=x.rtl?-Q:Q;}};x.updateProgress=function(s){if(typeof s==="undefined"){s=x.translate||0;}var p=x.maxTranslate()-x.minTranslate();if(p===0){x.progress=0;x.isBeginning=x.isEnd=true;}else{x.progress=(s-x.minTranslate())/(p);x.isBeginning=x.progress<=0;x.isEnd=x.progress>=1;}if(x.isBeginning){x.emit("onReachBeginning",x);}if(x.isEnd){x.emit("onReachEnd",x);}if(x.params.watchSlidesProgress){x.updateSlidesProgress(s);}x.emit("onProgress",x,x.progress);};x.updateActiveIndex=function(){var s=x.rtl?x.translate:-x.translate;var L,p,K;for(p=0;p<x.slidesGrid.length;p++){if(typeof x.slidesGrid[p+1]!=="undefined"){if(s>=x.slidesGrid[p]&&s<x.slidesGrid[p+1]-(x.slidesGrid[p+1]-x.slidesGrid[p])/2){L=p;}else{if(s>=x.slidesGrid[p]&&s<x.slidesGrid[p+1]){L=p+1;}}}else{if(s>=x.slidesGrid[p]){L=p;}}}if(L<0||typeof L==="undefined"){L=0;}K=Math.floor(L/x.params.slidesPerGroup);if(K>=x.snapGrid.length){K=x.snapGrid.length-1;}if(L===x.activeIndex){return;}x.snapIndex=K;x.previousIndex=x.activeIndex;x.activeIndex=L;x.updateClasses();};x.updateClasses=function(){x.slides.removeClass(x.params.slideActiveClass+" "+x.params.slideNextClass+" "+x.params.slidePrevClass);var s=x.slides.eq(x.activeIndex);s.addClass(x.params.slideActiveClass);s.next("."+x.params.slideClass).addClass(x.params.slideNextClass);s.prev("."+x.params.slideClass).addClass(x.params.slidePrevClass);if(x.bullets&&x.bullets.length>0){x.bullets.removeClass(x.params.bulletActiveClass);var p;if(x.params.loop){p=Math.ceil(x.activeIndex-x.loopedSlides)/x.params.slidesPerGroup;if(p>x.slides.length-1-x.loopedSlides*2){p=p-(x.slides.length-x.loopedSlides*2);}if(p>x.bullets.length-1){p=p-x.bullets.length;}}else{if(typeof x.snapIndex!=="undefined"){p=x.snapIndex;}else{p=x.activeIndex||0;}}if(x.paginationContainer.length>1){x.bullets.each(function(){if(d(this).index()===p){d(this).addClass(x.params.bulletActiveClass);}});}else{x.bullets.eq(p).addClass(x.params.bulletActiveClass);}}if(!x.params.loop){if(x.params.prevButton){if(x.isBeginning){d(x.params.prevButton).addClass(x.params.buttonDisabledClass);if(x.params.a11y&&x.a11y){x.a11y.disable(d(x.params.prevButton));}}else{d(x.params.prevButton).removeClass(x.params.buttonDisabledClass);if(x.params.a11y&&x.a11y){x.a11y.enable(d(x.params.prevButton));}}}if(x.params.nextButton){if(x.isEnd){d(x.params.nextButton).addClass(x.params.buttonDisabledClass);if(x.params.a11y&&x.a11y){x.a11y.disable(d(x.params.nextButton));}}else{d(x.params.nextButton).removeClass(x.params.buttonDisabledClass);if(x.params.a11y&&x.a11y){x.a11y.enable(d(x.params.nextButton));}}}}};x.updatePagination=function(){if(!x.params.pagination){return;}if(x.paginationContainer&&x.paginationContainer.length>0){var p="";var K=x.params.loop?Math.ceil((x.slides.length-x.loopedSlides*2)/x.params.slidesPerGroup):x.snapGrid.length;for(var s=0;s<K;s++){if(x.params.paginationBulletRender){p+=x.params.paginationBulletRender(s,x.params.bulletClass);}else{p+='<span class="'+x.params.bulletClass+'"></span>';}}x.paginationContainer.html(p);x.bullets=x.paginationContainer.find("."+x.params.bulletClass);}};x.update=function(L){x.updateContainerSize();x.updateSlidesSize();x.updateProgress();x.updatePagination();x.updateClasses();if(x.params.scrollbar&&x.scrollbar){x.scrollbar.set();}function s(){p=Math.min(Math.max(x.translate,x.maxTranslate()),x.minTranslate());x.setWrapperTranslate(p);x.updateActiveIndex();x.updateClasses();}if(L){var K,p;if(x.params.freeMode){s();}else{if(x.params.slidesPerView==="auto"&&x.isEnd&&!x.params.centeredSlides){K=x.slideTo(x.slides.length-1,0,false,true);}else{K=x.slideTo(x.activeIndex,0,false,true);}if(!K){s();}}}};x.onResize=function(){x.updateContainerSize();x.updateSlidesSize();x.updateProgress();if(x.params.slidesPerView==="auto"||x.params.freeMode){x.updatePagination();}if(x.params.scrollbar&&x.scrollbar){x.scrollbar.set();}if(x.params.freeMode){var p=Math.min(Math.max(x.translate,x.maxTranslate()),x.minTranslate());x.setWrapperTranslate(p);x.updateActiveIndex();x.updateClasses();}else{x.updateClasses();if(x.params.slidesPerView==="auto"&&x.isEnd&&!x.params.centeredSlides){x.slideTo(x.slides.length-1,0,false,true);}else{x.slideTo(x.activeIndex,0,false,true);}}};var I=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled){I=["pointerdown","pointermove","pointerup"];}else{if(window.navigator.msPointerEnabled){I=["MSPointerDown","MSPointerMove","MSPointerUp"];}}x.touchEvents={start:x.support.touch||!x.params.simulateTouch?"touchstart":I[0],move:x.support.touch||!x.params.simulateTouch?"touchmove":I[1],end:x.support.touch||!x.params.simulateTouch?"touchend":I[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(x.params.touchEventsTarget==="container"?x.container:x.wrapper).addClass("swiper-wp8-"+x.params.direction);}x.initEvents=function(N){var p=N?"off":"on";var L=N?"removeEventListener":"addEventListener";var s=x.params.touchEventsTarget==="container"?x.container[0]:x.wrapper[0];var M=x.support.touch?s:document;var K=x.params.nested?true:false;if(x.browser.ie){s[L](x.touchEvents.start,x.onTouchStart,false);M[L](x.touchEvents.move,x.onTouchMove,K);M[L](x.touchEvents.end,x.onTouchEnd,false);}else{if(x.support.touch){s[L](x.touchEvents.start,x.onTouchStart,false);s[L](x.touchEvents.move,x.onTouchMove,K);s[L](x.touchEvents.end,x.onTouchEnd,false);}if(H.simulateTouch&&!x.device.ios&&!x.device.android){s[L]("mousedown",x.onTouchStart,false);M[L]("mousemove",x.onTouchMove,K);M[L]("mouseup",x.onTouchEnd,false);}}window[L]("resize",x.onResize);if(x.params.nextButton){d(x.params.nextButton)[p]("click",x.onClickNext);if(x.params.a11y&&x.a11y){d(x.params.nextButton)[p]("keydown",x.a11y.onEnterKey);}}if(x.params.prevButton){d(x.params.prevButton)[p]("click",x.onClickPrev);if(x.params.a11y&&x.a11y){d(x.params.prevButton)[p]("keydown",x.a11y.onEnterKey);}}if(x.params.pagination&&x.params.paginationClickable){d(x.paginationContainer)[p]("click","."+x.params.bulletClass,x.onClickIndex);}if(x.params.preventClicks||x.params.preventClicksPropagation){s[L]("click",x.preventClicks,true);}};x.attachEvents=function(){x.initEvents();};x.detachEvents=function(){x.initEvents(true);};x.allowClick=true;x.preventClicks=function(p){if(!x.allowClick){if(x.params.preventClicks){p.preventDefault();}if(x.params.preventClicksPropagation){p.stopPropagation();p.stopImmediatePropagation();}}};x.onClickNext=function(p){p.preventDefault();x.slideNext();};x.onClickPrev=function(p){p.preventDefault();x.slidePrev();};x.onClickIndex=function(s){s.preventDefault();var p=d(this).index()*x.params.slidesPerGroup;if(x.params.loop){p=p+x.loopedSlides;}x.slideTo(p);};function E(L,p){var s=d(L.target);if(!s.is(p)){if(typeof p==="string"){s=s.parents(p);}else{if(p.nodeType){var K;s.parents().each(function(M,N){if(N===p){K=p;}});if(!K){return undefined;}else{return p;}}}}if(s.length===0){return undefined;}return s[0];}x.updateClickedSlide=function(M){var p=E(M,"."+x.params.slideClass);if(p){x.clickedSlide=p;x.clickedIndex=d(p).index();}else{x.clickedSlide=undefined;x.clickedIndex=undefined;return;}if(x.params.slideToClickedSlide&&x.clickedIndex!==undefined&&x.clickedIndex!==x.activeIndex){var s=x.clickedIndex,L;if(x.params.loop){L=d(x.clickedSlide).attr("data-swiper-slide-index");if(s>x.slides.length-x.params.slidesPerView){x.fixLoop();s=x.wrapper.children("."+x.params.slideClass+'[data-swiper-slide-index="'+L+'"]').eq(0).index();setTimeout(function(){x.slideTo(s);},0);}else{if(s<x.params.slidesPerView-1){x.fixLoop();var K=x.wrapper.children("."+x.params.slideClass+'[data-swiper-slide-index="'+L+'"]');s=K.eq(K.length-1).index();setTimeout(function(){x.slideTo(s);},0);}else{x.slideTo(s);}}}else{x.slideTo(s);}}};var D,o,l,J,w,G,B,F="input, select, textarea, button",n=Date.now(),C,k=[],m;x.animating=false;x.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var f,j;x.onTouchStart=function(s){if(s.originalEvent){s=s.originalEvent;}f=s.type==="touchstart";if(!f&&"which" in s&&s.which===3){return;}if(x.params.noSwiping&&E(s,"."+x.params.noSwipingClass)){x.allowClick=true;return;}if(x.params.swipeHandler){if(!E(s,x.params.swipeHandler)){return;}}D=true;o=false;J=undefined;j=undefined;x.touches.startX=x.touches.currentX=s.type==="touchstart"?s.targetTouches[0].pageX:s.pageX;x.touches.startY=x.touches.currentY=s.type==="touchstart"?s.targetTouches[0].pageY:s.pageY;l=Date.now();x.allowClick=true;x.updateContainerSize();x.swipeDirection=undefined;if(x.params.threshold>0){B=false;}if(s.type!=="touchstart"){var p=true;if(d(s.target).is(F)){p=false;}if(document.activeElement&&d(document.activeElement).is(F)){document.activeElement.blur();}if(p){s.preventDefault();}}x.emit("onTouchStart",x,s);};x.onTouchMove=function(L){if(L.originalEvent){L=L.originalEvent;}if(f&&L.type==="mousemove"){return;}if(L.preventedByNestedSwiper){return;}if(x.params.onlyExternal){o=true;x.allowClick=false;return;}if(f&&document.activeElement){if(L.target===document.activeElement&&d(L.target).is(F)){o=true;x.allowClick=false;return;}}x.emit("onTouchMove",x,L);if(L.targetTouches&&L.targetTouches.length>1){return;}x.touches.currentX=L.type==="touchmove"?L.targetTouches[0].pageX:L.pageX;x.touches.currentY=L.type==="touchmove"?L.targetTouches[0].pageY:L.pageY;if(typeof J==="undefined"){var p=Math.atan2(Math.abs(x.touches.currentY-x.touches.startY),Math.abs(x.touches.currentX-x.touches.startX))*180/Math.PI;J=A()?p>x.params.touchAngle:(90-p>x.params.touchAngle);}if(J){x.emit("onTouchMoveOpposite",x,L);}if(typeof j==="undefined"&&x.browser.ieTouch){if(x.touches.currentX!==x.touches.startX||x.touches.currentY!==x.touches.startY){j=true;}}if(!D){return;}if(J){D=false;return;}if(!j&&x.browser.ieTouch){return;}x.allowClick=false;x.emit("onSliderMove",x,L);L.preventDefault();if(x.params.touchMoveStopPropagation&&!x.params.nested){L.stopPropagation();}if(!o){if(H.loop){x.fixLoop();}G=x.getWrapperTranslate();x.setWrapperTransition(0);if(x.animating){x.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd");}if(x.params.autoplay&&x.autoplaying){if(x.params.autoplayDisableOnInteraction){x.stopAutoplay();}else{x.pauseAutoplay();}}m=false;if(x.params.grabCursor){x.container[0].style.cursor="move";x.container[0].style.cursor="-webkit-grabbing";x.container[0].style.cursor="-moz-grabbin";x.container[0].style.cursor="grabbing";}}o=true;var K=x.touches.diff=A()?x.touches.currentX-x.touches.startX:x.touches.currentY-x.touches.startY;K=K*x.params.touchRatio;if(x.rtl){K=-K;}x.swipeDirection=K>0?"prev":"next";w=K+G;var s=true;if((K>0&&w>x.minTranslate())){s=false;if(x.params.resistance){w=x.minTranslate()-1+Math.pow(-x.minTranslate()+G+K,x.params.resistanceRatio);}}else{if(K<0&&w<x.maxTranslate()){s=false;if(x.params.resistance){w=x.maxTranslate()+1-Math.pow(x.maxTranslate()-G-K,x.params.resistanceRatio);}}}if(s){L.preventedByNestedSwiper=true;}if(!x.params.allowSwipeToNext&&x.swipeDirection==="next"&&w<G){w=G;}if(!x.params.allowSwipeToPrev&&x.swipeDirection==="prev"&&w>G){w=G;}if(!x.params.followFinger){return;}if(x.params.threshold>0){if(Math.abs(K)>x.params.threshold||B){if(!B){B=true;x.touches.startX=x.touches.currentX;x.touches.startY=x.touches.currentY;w=G;x.touches.diff=A()?x.touches.currentX-x.touches.startX:x.touches.currentY-x.touches.startY;return;}}else{w=G;return;}}if(x.params.freeMode||x.params.watchSlidesProgress){x.updateActiveIndex();}if(x.params.freeMode){if(k.length===0){k.push({position:x.touches[A()?"startX":"startY"],time:l});}k.push({position:x.touches[A()?"currentX":"currentY"],time:(new Date()).getTime()});}x.updateProgress(w);x.setWrapperTranslate(w);};x.onTouchEnd=function(W){if(W.originalEvent){W=W.originalEvent;}x.emit("onTouchEnd",x,W);if(!D){return;}if(x.params.grabCursor&&o&&D){x.container[0].style.cursor="move";x.container[0].style.cursor="-webkit-grab";x.container[0].style.cursor="-moz-grab";x.container[0].style.cursor="grab";}var X=Date.now();var U=X-l;if(x.allowClick){x.updateClickedSlide(W);x.emit("onTap",x,W);if(U<300&&(X-n)>300){if(C){clearTimeout(C);}C=setTimeout(function(){if(!x){return;}if(x.params.paginationHide&&x.paginationContainer.length>0&&!d(W.target).hasClass(x.params.bulletClass)){x.paginationContainer.toggleClass(x.params.paginationHiddenClass);}x.emit("onClick",x,W);},300);}if(U<300&&(X-n)<300){if(C){clearTimeout(C);}x.emit("onDoubleTap",x,W);}}n=Date.now();setTimeout(function(){if(x&&x.allowClick){x.allowClick=true;}},0);if(!D||!o||!x.swipeDirection||x.touches.diff===0||w===G){D=o=false;return;}D=o=false;var Z;if(x.params.followFinger){Z=x.rtl?x.translate:-x.translate;}else{Z=-w;}if(x.params.freeMode){if(Z<-x.minTranslate()){x.slideTo(x.activeIndex);return;}else{if(Z>-x.maxTranslate()){x.slideTo(x.slides.length-1);return;}}if(x.params.freeModeMomentum){if(k.length>1){var S=k.pop(),Y=k.pop();var N=S.position-Y.position;var O=S.time-Y.time;x.velocity=N/O;x.velocity=x.velocity/2;if(Math.abs(x.velocity)<0.02){x.velocity=0;}if(O>150||(new Date().getTime()-S.time)>300){x.velocity=0;}}else{x.velocity=0;}k.length=0;var R=1000*x.params.freeModeMomentumRatio;var T=x.velocity*R;var M=x.translate+T;if(x.rtl){M=-M;}var p=false;var L;var K=Math.abs(x.velocity)*20*x.params.freeModeMomentumBounceRatio;if(M<x.maxTranslate()){if(x.params.freeModeMomentumBounce){if(M+x.maxTranslate()<-K){M=x.maxTranslate()-K;}L=x.maxTranslate();p=true;m=true;}else{M=x.maxTranslate();}}if(M>x.minTranslate()){if(x.params.freeModeMomentumBounce){if(M-x.minTranslate()>K){M=x.minTranslate()+K;}L=x.minTranslate();p=true;m=true;}else{M=x.minTranslate();}}if(x.velocity!==0){if(x.rtl){R=Math.abs((-M-x.translate)/x.velocity);}else{R=Math.abs((M-x.translate)/x.velocity);}}if(x.params.freeModeMomentumBounce&&p){x.updateProgress(L);x.setWrapperTransition(R);x.setWrapperTranslate(M);x.onTransitionStart();x.animating=true;x.wrapper.transitionEnd(function(){if(!m){return;}x.emit("onMomentumBounce",x);x.setWrapperTransition(x.params.speed);x.setWrapperTranslate(L);x.wrapper.transitionEnd(function(){x.onTransitionEnd();});});}else{if(x.velocity){x.updateProgress(M);x.setWrapperTransition(R);x.setWrapperTranslate(M);x.onTransitionStart();if(!x.animating){x.animating=true;x.wrapper.transitionEnd(function(){x.onTransitionEnd();});}}else{x.updateProgress(M);}}x.updateActiveIndex();}if(!x.params.freeModeMomentum||U>=x.params.longSwipesMs){x.updateProgress();x.updateActiveIndex();}return;}var V,Q=0,s=x.slidesSizesGrid[0];for(V=0;V<x.slidesGrid.length;V+=x.params.slidesPerGroup){if(typeof x.slidesGrid[V+x.params.slidesPerGroup]!=="undefined"){if(Z>=x.slidesGrid[V]&&Z<x.slidesGrid[V+x.params.slidesPerGroup]){Q=V;s=x.slidesGrid[V+x.params.slidesPerGroup]-x.slidesGrid[V];}}else{if(Z>=x.slidesGrid[V]){Q=V;s=x.slidesGrid[x.slidesGrid.length-1]-x.slidesGrid[x.slidesGrid.length-2];}}}var P=(Z-x.slidesGrid[Q])/s;if(U>x.params.longSwipesMs){if(!x.params.longSwipes){x.slideTo(x.activeIndex);return;}if(x.swipeDirection==="next"){if(P>=x.params.longSwipesRatio){x.slideTo(Q+x.params.slidesPerGroup);}else{x.slideTo(Q);}}if(x.swipeDirection==="prev"){if(P>(1-x.params.longSwipesRatio)){x.slideTo(Q+x.params.slidesPerGroup);}else{x.slideTo(Q);}}}else{if(!x.params.shortSwipes){x.slideTo(x.activeIndex);return;}if(x.swipeDirection==="next"){x.slideTo(Q+x.params.slidesPerGroup);}if(x.swipeDirection==="prev"){x.slideTo(Q);}}};x._slideTo=function(s,p){return x.slideTo(s,p,true,true);};x.slideTo=function(L,K,N,p){if(typeof N==="undefined"){N=true;}if(typeof L==="undefined"){L=0;}if(L<0){L=0;}x.snapIndex=Math.floor(L/x.params.slidesPerGroup);if(x.snapIndex>=x.snapGrid.length){x.snapIndex=x.snapGrid.length-1;}var M=-x.snapGrid[x.snapIndex];if(x.params.autoplay&&x.autoplaying){if(p||!x.params.autoplayDisableOnInteraction){x.pauseAutoplay(K);}else{x.stopAutoplay();}}x.updateProgress(M);for(var s=0;s<x.slidesGrid.length;s++){if(-M>=x.slidesGrid[s]){L=s;}}if(typeof K==="undefined"){K=x.params.speed;}x.previousIndex=x.activeIndex||0;x.activeIndex=L;if(M===x.translate){x.updateClasses();return false;}x.onTransitionStart(N);if(K===0){x.setWrapperTransition(0);x.setWrapperTranslate(M);x.onTransitionEnd(N);}else{x.setWrapperTransition(K);x.setWrapperTranslate(M);if(!x.animating){x.animating=true;x.wrapper.transitionEnd(function(){x.onTransitionEnd(N);});}}x.updateClasses();return true;};x.onTransitionStart=function(p){if(typeof p==="undefined"){p=true;}if(x.lazy){x.lazy.onTransitionStart();}if(p){x.emit("onTransitionStart",x);if(x.activeIndex!==x.previousIndex){x.emit("onSlideChangeStart",x);}}};x.onTransitionEnd=function(p){x.animating=false;x.setWrapperTransition(0);if(typeof p==="undefined"){p=true;}if(x.lazy){x.lazy.onTransitionEnd();}if(p){x.emit("onTransitionEnd",x);if(x.activeIndex!==x.previousIndex){x.emit("onSlideChangeEnd",x);}}if(x.params.hashnav&&x.hashnav){x.hashnav.setHash();}};x.slideNext=function(K,s,p){if(x.params.loop){if(x.animating){return false;}x.fixLoop();return x.slideTo(x.activeIndex+x.params.slidesPerGroup,s,K,p);}else{return x.slideTo(x.activeIndex+x.params.slidesPerGroup,s,K,p);}};x._slideNext=function(p){return x.slideNext(true,p,true);};x.slidePrev=function(K,s,p){if(x.params.loop){if(x.animating){return false;}x.fixLoop();return x.slideTo(x.activeIndex-1,s,K,p);}else{return x.slideTo(x.activeIndex-1,s,K,p);}};x._slidePrev=function(p){return x.slidePrev(true,p,true);};x.slideReset=function(s,p){return x.slideTo(x.activeIndex,p,s);};x.setWrapperTransition=function(p,s){x.wrapper.transition(p);if(x.params.effect!=="slide"&&x.effects[x.params.effect]){x.effects[x.params.effect].setTransition(p);}if(x.params.parallax&&x.parallax){x.parallax.setTransition(p);}if(x.params.scrollbar&&x.scrollbar){x.scrollbar.setTransition(p);}if(x.params.control&&x.controller){x.controller.setTransition(p,s);}x.emit("onSetTransition",x,p);};x.setWrapperTranslate=function(L,s,N){var p=0,M=0,K=0;if(A()){p=x.rtl?-L:L;}else{M=L;}if(!x.params.virtualTranslate){if(x.support.transforms3d){x.wrapper.transform("translate3d("+p+"px, "+M+"px, "+K+"px)");}else{x.wrapper.transform("translate("+p+"px, "+M+"px)");}}x.translate=A()?p:M;if(s){x.updateActiveIndex();}if(x.params.effect!=="slide"&&x.effects[x.params.effect]){x.effects[x.params.effect].setTranslate(x.translate);}if(x.params.parallax&&x.parallax){x.parallax.setTranslate(x.translate);}if(x.params.scrollbar&&x.scrollbar){x.scrollbar.setTranslate(x.translate);}if(x.params.control&&x.controller){x.controller.setTranslate(x.translate,N);}x.emit("onSetTranslate",x,x.translate);};x.getTranslate=function(M,L){var p,K,N,s;if(typeof L==="undefined"){L="x";}if(x.params.virtualTranslate){return x.rtl?-x.translate:x.translate;}N=window.getComputedStyle(M,null);if(window.WebKitCSSMatrix){s=new WebKitCSSMatrix(N.webkitTransform==="none"?"":N.webkitTransform);}else{s=N.MozTransform||N.OTransform||N.MsTransform||N.msTransform||N.transform||N.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");p=s.toString().split(",");}if(L==="x"){if(window.WebKitCSSMatrix){K=s.m41;}else{if(p.length===16){K=parseFloat(p[12]);}else{K=parseFloat(p[4]);}}}if(L==="y"){if(window.WebKitCSSMatrix){K=s.m42;}else{if(p.length===16){K=parseFloat(p[13]);}else{K=parseFloat(p[5]);}}}if(x.rtl&&K){K=-K;}return K||0;};x.getWrapperTranslate=function(p){if(typeof p==="undefined"){p=A()?"x":"y";}return x.getTranslate(x.wrapper[0],p);};x.observers=[];function z(L,K){K=K||{};var s=window.MutationObserver||window.WebkitMutationObserver;var p=new s(function(M){M.forEach(function(N){x.onResize();x.emit("onObserverUpdate",x,N);});});p.observe(L,{attributes:typeof K.attributes==="undefined"?true:K.attributes,childList:typeof K.childList==="undefined"?true:K.childList,characterData:typeof K.characterData==="undefined"?true:K.characterData});x.observers.push(p);}x.initObservers=function(){if(x.params.observeParents){var s=x.container.parents();for(var p=0;p<s.length;p++){z(s[p]);}}z(x.container[0],{childList:false});z(x.wrapper[0],{attributes:false});};x.disconnectObservers=function(){for(var p=0;p<x.observers.length;p++){x.observers[p].disconnect();}x.observers=[];};x.createLoop=function(){x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass).remove();var L=x.wrapper.children("."+x.params.slideClass);x.loopedSlides=parseInt(x.params.loopedSlides||x.params.slidesPerView,10);x.loopedSlides=x.loopedSlides+x.params.loopAdditionalSlides;if(x.loopedSlides>L.length){x.loopedSlides=L.length;}var p=[],K=[],s;L.each(function(N,O){var M=d(this);if(N<x.loopedSlides){K.push(O);}if(N<L.length&&N>=L.length-x.loopedSlides){p.push(O);}M.attr("data-swiper-slide-index",N);});for(s=0;s<K.length;s++){x.wrapper.append(d(K[s].cloneNode(true)).addClass(x.params.slideDuplicateClass));}for(s=p.length-1;s>=0;s--){x.wrapper.prepend(d(p[s].cloneNode(true)).addClass(x.params.slideDuplicateClass));}};x.destroyLoop=function(){x.wrapper.children("."+x.params.slideClass+"."+x.params.slideDuplicateClass).remove();x.slides.removeAttr("data-swiper-slide-index");};x.fixLoop=function(){var p;if(x.activeIndex<x.loopedSlides){p=x.slides.length-x.loopedSlides*3+x.activeIndex;p=p+x.loopedSlides;x.slideTo(p,0,false,true);}else{if((x.params.slidesPerView==="auto"&&x.activeIndex>=x.loopedSlides*2)||(x.activeIndex>x.slides.length-x.params.slidesPerView*2)){p=-x.slides.length+x.activeIndex+x.loopedSlides;p=p+x.loopedSlides;x.slideTo(p,0,false,true);}}};x.appendSlide=function(s){if(x.params.loop){x.destroyLoop();}if(typeof s==="object"&&s.length){for(var p=0;p<s.length;p++){if(s[p]){x.wrapper.append(s[p]);}}}else{x.wrapper.append(s);}if(x.params.loop){x.createLoop();}if(!(x.params.observer&&x.support.observer)){x.update(true);}};x.prependSlide=function(s){if(x.params.loop){x.destroyLoop();}var K=x.activeIndex+1;if(typeof s==="object"&&s.length){for(var p=0;p<s.length;p++){if(s[p]){x.wrapper.prepend(s[p]);}}K=x.activeIndex+s.length;}else{x.wrapper.prepend(s);}if(x.params.loop){x.createLoop();}if(!(x.params.observer&&x.support.observer)){x.update(true);}x.slideTo(K,0,false);};x.removeSlide=function(K){if(x.params.loop){x.destroyLoop();}var L=x.activeIndex,p;if(typeof K==="object"&&K.length){for(var s=0;s<K.length;s++){p=K[s];if(x.slides[p]){x.slides.eq(p).remove();}if(p<L){L--;}}L=Math.max(L,0);}else{p=K;if(x.slides[p]){x.slides.eq(p).remove();}if(p<L){L--;}L=Math.max(L,0);}if(!(x.params.observer&&x.support.observer)){x.update(true);}x.slideTo(L,0,false);};x.removeAllSlides=function(){var s=[];for(var p=0;p<x.slides.length;p++){s.push(p);}x.removeSlide(s);};x.effects={fade:{fadeIndex:null,setTranslate:function(){for(var L=0;L<x.slides.length;L++){var s=x.slides.eq(L);var N=s[0].swiperSlideOffset;var K=-N;if(!x.params.virtualTranslate){K=K-x.translate;}var p=0;if(!A()){p=K;K=0;}var M=x.params.fade.crossFade?Math.max(1-Math.abs(s[0].progress),0):1+Math.min(Math.max(s[0].progress,-1),0);if(M>0&&M<1){x.effects.fade.fadeIndex=L;}s.css({opacity:M}).transform("translate3d("+K+"px, "+p+"px, 0px)");}},setTransition:function(p){x.slides.transition(p);if(x.params.virtualTranslate&&p!==0){var s=x.effects.fade.fadeIndex!==null?x.effects.fade.fadeIndex:x.activeIndex;x.slides.eq(s).transitionEnd(function(){var L=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var K=0;K<L.length;K++){x.wrapper.trigger(L[K]);}});}}},cube:{setTranslate:function(){var M=0,P;if(x.params.cube.shadow){if(A()){P=x.wrapper.find(".swiper-cube-shadow");if(P.length===0){P=d('<div class="swiper-cube-shadow"></div>');x.wrapper.append(P);}P.css({height:x.width+"px"});}else{P=x.container.find(".swiper-cube-shadow");if(P.length===0){P=d('<div class="swiper-cube-shadow"></div>');x.container.append(P);}}}for(var W=0;W<x.slides.length;W++){var p=x.slides.eq(W);var O=W*90;var Y=Math.floor(O/360);if(x.rtl){O=-O;Y=Math.floor(-O/360);}var L=Math.max(Math.min(p[0].progress,1),-1);var aa=0,Z=0,X=0;if(W%4===0){aa=-Y*4*x.size;X=0;}else{if((W-1)%4===0){aa=0;X=-Y*4*x.size;}else{if((W-2)%4===0){aa=x.size+Y*4*x.size;X=x.size;}else{if((W-3)%4===0){aa=-x.size;X=3*x.size+x.size*4*Y;}}}}if(x.rtl){aa=-aa;}if(!A()){Z=aa;aa=0;}var Q="rotateX("+(A()?0:-O)+"deg) rotateY("+(A()?O:0)+"deg) translate3d("+aa+"px, "+Z+"px, "+X+"px)";if(L<=1&&L>-1){M=W*90+L*90;if(x.rtl){M=-W*90-L*90;}}p.transform(Q);if(x.params.cube.slideShadows){var T=A()?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top");var s=A()?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");if(T.length===0){T=d('<div class="swiper-slide-shadow-'+(A()?"left":"top")+'"></div>');p.append(T);}if(s.length===0){s=d('<div class="swiper-slide-shadow-'+(A()?"right":"bottom")+'"></div>');p.append(s);}if(T.length){T[0].style.opacity=-p[0].progress;}if(s.length){s[0].style.opacity=p[0].progress;}}}x.wrapper.css({"-webkit-transform-origin":"50% 50% -"+(x.size/2)+"px","-moz-transform-origin":"50% 50% -"+(x.size/2)+"px","-ms-transform-origin":"50% 50% -"+(x.size/2)+"px","transform-origin":"50% 50% -"+(x.size/2)+"px"});if(x.params.cube.shadow){if(A()){P.transform("translate3d(0px, "+(x.width/2+x.params.cube.shadowOffset)+"px, "+(-x.width/2)+"px) rotateX(90deg) rotateZ(0deg) scale("+(x.params.cube.shadowScale)+")");}else{var S=Math.abs(M)-Math.floor(Math.abs(M)/90)*90;var N=1.5-(Math.sin(S*2*Math.PI/360)/2+Math.cos(S*2*Math.PI/360)/2);var V=x.params.cube.shadowScale,U=x.params.cube.shadowScale/N,K=x.params.cube.shadowOffset;P.transform("scale3d("+V+", 1, "+U+") translate3d(0px, "+(x.height/2+K)+"px, "+(-x.height/2/U)+"px) rotateX(-90deg)");}}var R=(x.isSafari||x.isUiWebView)?(-x.size/2):0;x.wrapper.transform("translate3d(0px,0,"+R+"px) rotateX("+(A()?0:M)+"deg) rotateY("+(A()?-M:0)+"deg)");},setTransition:function(p){x.slides.transition(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(p);if(x.params.cube.shadow&&!A()){x.container.find(".swiper-cube-shadow").transition(p);}}},coverflow:{setTranslate:function(){var T=x.translate;var X=A()?-T+x.width/2:-T+x.height/2;var W=A()?x.params.coverflow.rotate:-x.params.coverflow.rotate;var S=x.params.coverflow.depth;for(var V=0,M=x.slides.length;V<M;V++){var p=x.slides.eq(V);var N=x.slidesSizesGrid[V];var O=p[0].swiperSlideOffset;var P=(X-O-N/2)/N*x.params.coverflow.modifier;var Q=A()?W*P:0;var R=A()?0:W*P;var Y=-S*Math.abs(P);var Z=A()?0:x.params.coverflow.stretch*(P);var aa=A()?x.params.coverflow.stretch*(P):0;if(Math.abs(aa)<0.001){aa=0;}if(Math.abs(Z)<0.001){Z=0;}if(Math.abs(Y)<0.001){Y=0;}if(Math.abs(Q)<0.001){Q=0;}if(Math.abs(R)<0.001){R=0;}var L="translate3d("+aa+"px,"+Z+"px,"+Y+"px)  rotateX("+R+"deg) rotateY("+Q+"deg)";p.transform(L);p[0].style.zIndex=-Math.abs(Math.round(P))+1;if(x.params.coverflow.slideShadows){var U=A()?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top");var s=A()?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");if(U.length===0){U=d('<div class="swiper-slide-shadow-'+(A()?"left":"top")+'"></div>');p.append(U);}if(s.length===0){s=d('<div class="swiper-slide-shadow-'+(A()?"right":"bottom")+'"></div>');p.append(s);}if(U.length){U[0].style.opacity=P>0?P:0;}if(s.length){s[0].style.opacity=(-P)>0?-P:0;}}}if(x.browser.ie){var K=x.wrapper[0].style;K.perspectiveOrigin=X+"px 50%";}},setTransition:function(p){x.slides.transition(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(p);}}};x.lazy={initialImageLoaded:false,loadImageInSlide:function(K){if(typeof K==="undefined"){return;}if(x.slides.length===0){return;}var p=x.slides.eq(K);var s=p.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(s.length===0){return;}s.each(function(){var L=d(this);L.addClass("swiper-lazy-loading");var M=L.attr("data-src");x.loadImage(L[0],M,false,function(){L.attr("src",M);L.removeAttr("data-src");L.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");p.find(".swiper-lazy-preloader, .preloader").remove();x.emit("onLazyImageReady",x,p[0],L[0]);});x.emit("onLazyImageLoad",x,p[0],L[0]);});},load:function(){if(x.params.watchSlidesVisibility){x.wrapper.children("."+x.params.slideVisibleClass).each(function(){x.lazy.loadImageInSlide(d(this).index());});}else{if(x.params.slidesPerView>1){for(var s=x.activeIndex;s<x.activeIndex+x.params.slidesPerView;s++){if(x.slides[s]){x.lazy.loadImageInSlide(s);}}}else{x.lazy.loadImageInSlide(x.activeIndex);}}if(x.params.lazyLoadingInPrevNext){var K=x.wrapper.children("."+x.params.slideNextClass);if(K.length>0){x.lazy.loadImageInSlide(K.index());}var p=x.wrapper.children("."+x.params.slidePrevClass);if(p.length>0){x.lazy.loadImageInSlide(p.index());}}},onTransitionStart:function(){if(x.params.lazyLoading){if(x.params.lazyLoadingOnTransitionStart||(!x.params.lazyLoadingOnTransitionStart&&!x.lazy.initialImageLoaded)){x.lazy.initialImageLoaded=true;x.lazy.load();}}},onTransitionEnd:function(){if(x.params.lazyLoading&&!x.params.lazyLoadingOnTransitionStart){x.lazy.load();}}};x.scrollbar={set:function(){if(!x.params.scrollbar){return;}var p=x.scrollbar;p.track=d(x.params.scrollbar);p.drag=p.track.find(".swiper-scrollbar-drag");if(p.drag.length===0){p.drag=d('<div class="swiper-scrollbar-drag"></div>');p.track.append(p.drag);}p.drag[0].style.width="";p.drag[0].style.height="";p.trackSize=A()?p.track[0].offsetWidth:p.track[0].offsetHeight;p.divider=x.size/x.virtualSize;p.moveDivider=p.divider*(p.trackSize/x.size);p.dragSize=p.trackSize*p.divider;if(A()){p.drag[0].style.width=p.dragSize+"px";}else{p.drag[0].style.height=p.dragSize+"px";}if(p.divider>=1){p.track[0].style.display="none";}else{p.track[0].style.display="";}if(x.params.scrollbarHide){p.track[0].style.opacity=0;}},setTranslate:function(){if(!x.params.scrollbar){return;}var K=x.scrollbar;var s;var p=K.dragSize;s=(K.trackSize-K.dragSize)*x.progress;if(x.rtl&&A()){s=-s;if(s>0){p=K.dragSize-s;s=0;}else{if(-s+K.dragSize>K.trackSize){p=K.trackSize+s;}}}else{if(s<0){p=K.dragSize+s;s=0;}else{if(s+K.dragSize>K.trackSize){p=K.trackSize-s;}}}if(A()){if(x.support.transforms3d){K.drag.transform("translate3d("+(s)+"px, 0, 0)");}else{K.drag.transform("translateX("+(s)+"px)");}K.drag[0].style.width=p+"px";}else{if(x.support.transforms3d){K.drag.transform("translate3d(0px, "+(s)+"px, 0)");}else{K.drag.transform("translateY("+(s)+"px)");}K.drag[0].style.height=p+"px";}if(x.params.scrollbarHide){clearTimeout(K.timeout);K.track[0].style.opacity=1;K.timeout=setTimeout(function(){K.track[0].style.opacity=0;K.track.transition(400);},1000);}},setTransition:function(p){if(!x.params.scrollbar){return;}x.scrollbar.drag.transition(p);}};x.controller={setTranslate:function(L,N){var K=x.params.control;var M,p;if(x.isArray(K)){for(var s=0;s<K.length;s++){if(K[s]!==N&&K[s] instanceof c){L=K[s].rtl&&K[s].params.direction==="horizontal"?-x.translate:x.translate;M=(K[s].maxTranslate()-K[s].minTranslate())/(x.maxTranslate()-x.minTranslate());p=(L-x.minTranslate())*M+K[s].minTranslate();if(x.params.controlInverse){p=K[s].maxTranslate()-p;}K[s].updateProgress(p);K[s].setWrapperTranslate(p,false,x);K[s].updateActiveIndex();}}}else{if(K instanceof c&&N!==K){L=K.rtl&&K.params.direction==="horizontal"?-x.translate:x.translate;M=(K.maxTranslate()-K.minTranslate())/(x.maxTranslate()-x.minTranslate());p=(L-x.minTranslate())*M+K.minTranslate();if(x.params.controlInverse){p=K.maxTranslate()-p;}K.updateProgress(p);K.setWrapperTranslate(p,false,x);K.updateActiveIndex();}}},setTransition:function(K,L){var s=x.params.control;if(x.isArray(s)){for(var p=0;p<s.length;p++){if(s[p]!==L&&s[p] instanceof c){s[p].setWrapperTransition(K,x);}}}else{if(s instanceof c&&L!==s){s.setWrapperTransition(K,x);}}}};function g(M,L){M=d(M);var N,K,s;N=M.attr("data-swiper-parallax")||"0";K=M.attr("data-swiper-parallax-x");s=M.attr("data-swiper-parallax-y");if(K||s){K=K||"0";s=s||"0";}else{if(A()){K=N;s="0";}else{s=N;K="0";}}if((K).indexOf("%")>=0){K=parseInt(K,10)*L+"%";}else{K=K*L+"px";}if((s).indexOf("%")>=0){s=parseInt(s,10)*L+"%";}else{s=s*L+"px";}M.transform("translate3d("+K+", "+s+",0px)");}x.parallax={setTranslate:function(){x.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){g(this,x.progress);});x.slides.each(function(){var p=d(this);p.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var s=Math.min(Math.max(p[0].progress,-1),1);g(this,s);});});},setTransition:function(p){if(typeof p==="undefined"){p=x.params.speed;}x.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var K=d(this);var s=parseInt(K.attr("data-swiper-parallax-duration"),10)||p;if(p===0){s=0;}K.transition(s);});}};x._plugins=[];for(var h in x.plugins){if(x.plugins.hasOwnProperty(h)){var y=x.plugins[h](x,x.params[h]);if(y){x._plugins.push(y);}}}x.callPlugins=function(p){for(var s=0;s<x._plugins.length;s++){if(p in x._plugins[s]){x._plugins[s][p](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}}};function r(p){if(p.indexOf("on")!==0){if(p[0]!==p[0].toUpperCase()){p="on"+p[0].toUpperCase()+p.substring(1);}else{p="on"+p;}}return p;}x.emitterEventListeners={};x.emit=function(p){if(x.params[p]){x.params[p](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}var s;if(!x){return;}if(x.emitterEventListeners[p]){for(s=0;s<x.emitterEventListeners[p].length;s++){x.emitterEventListeners[p][s](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}}if(x.callPlugins){x.callPlugins(p,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}};x.on=function(p,s){p=r(p);if(!x.emitterEventListeners[p]){x.emitterEventListeners[p]=[];}x.emitterEventListeners[p].push(s);return x;};x.off=function(p,K){var s;p=r(p);if(typeof K==="undefined"){x.emitterEventListeners[p]=[];return x;}if(!x.emitterEventListeners[p]||x.emitterEventListeners[p].length===0){return;}for(s=0;s<x.emitterEventListeners[p].length;s++){if(x.emitterEventListeners[p][s]===K){x.emitterEventListeners[p].splice(s,1);}}return x;};x.once=function(s,K){s=r(s);var p=function(){K(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);x.off(s,p);};x.on(s,p);return x;};x.a11y={makeFocusable:function(p){p[0].tabIndex="0";return p;},addRole:function(p,s){p.attr("role",s);return p;},addLabel:function(s,p){s.attr("aria-label",p);return s;},disable:function(p){p.attr("aria-disabled",true);return p;},enable:function(p){p.attr("aria-disabled",false);return p;},onEnterKey:function(p){if(p.keyCode!==13){return;}if(d(p.target).is(x.params.nextButton)){x.onClickNext(p);if(x.isEnd){x.a11y.notify(x.params.lastSlideMsg);}else{x.a11y.notify(x.params.nextSlideMsg);}}else{if(d(p.target).is(x.params.prevButton)){x.onClickPrev(p);if(x.isBeginning){x.a11y.notify(x.params.firstSlideMsg);}else{x.a11y.notify(x.params.prevSlideMsg);}}}},liveRegion:d('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(p){var s=x.a11y.liveRegion;if(s.length===0){return;}s.html("");s.html(p);},init:function(){if(x.params.nextButton){var s=d(x.params.nextButton);x.a11y.makeFocusable(s);x.a11y.addRole(s,"button");x.a11y.addLabel(s,x.params.nextSlideMsg);}if(x.params.prevButton){var p=d(x.params.prevButton);x.a11y.makeFocusable(p);x.a11y.addRole(p,"button");x.a11y.addLabel(p,x.params.prevSlideMsg);}d(x.container).append(x.a11y.liveRegion);},destroy:function(){if(x.a11y.liveRegion&&x.a11y.liveRegion.length>0){x.a11y.liveRegion.remove();}}};x.init=function(){if(x.params.loop){x.createLoop();}x.updateContainerSize();x.updateSlidesSize();x.updatePagination();if(x.params.scrollbar&&x.scrollbar){x.scrollbar.set();}if(x.params.effect!=="slide"&&x.effects[x.params.effect]){if(!x.params.loop){x.updateProgress();}x.effects[x.params.effect].setTranslate();}if(x.params.loop){x.slideTo(x.params.initialSlide+x.loopedSlides,0,x.params.runCallbacksOnInit);}else{x.slideTo(x.params.initialSlide,0,x.params.runCallbacksOnInit);if(x.params.initialSlide===0){if(x.parallax&&x.params.parallax){x.parallax.setTranslate();}if(x.lazy&&x.params.lazyLoading){x.lazy.load();}}}x.attachEvents();if(x.params.observer&&x.support.observer){x.initObservers();}if(x.params.preloadImages&&!x.params.lazyLoading){x.preloadImages();}if(x.params.autoplay){x.startAutoplay();}if(x.params.keyboardControl){if(x.enableKeyboardControl){x.enableKeyboardControl();}}if(x.params.mousewheelControl){if(x.enableMousewheelControl){x.enableMousewheelControl();}}if(x.params.hashnav){if(x.hashnav){x.hashnav.init();}}if(x.params.a11y&&x.a11y){x.a11y.init();}x.emit("onInit",x);};x.cleanupStyles=function(){x.container.removeClass(x.classNames.join(" ")).removeAttr("style");x.wrapper.removeAttr("style");if(x.slides&&x.slides.length){x.slides.removeClass([x.params.slideVisibleClass,x.params.slideActiveClass,x.params.slideNextClass,x.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row");}if(x.paginationContainer&&x.paginationContainer.length){x.paginationContainer.removeClass(x.params.paginationHiddenClass);}if(x.bullets&&x.bullets.length){x.bullets.removeClass(x.params.bulletActiveClass);}if(x.params.prevButton){d(x.params.prevButton).removeClass(x.params.buttonDisabledClass);}if(x.params.nextButton){d(x.params.nextButton).removeClass(x.params.buttonDisabledClass);}if(x.params.scrollbar&&x.scrollbar){if(x.scrollbar.track&&x.scrollbar.track.length){x.scrollbar.track.removeAttr("style");}if(x.scrollbar.drag&&x.scrollbar.drag.length){x.scrollbar.drag.removeAttr("style");}}};x.destroy=function(s,p){x.detachEvents();x.stopAutoplay();if(x.params.loop){x.destroyLoop();}if(p){x.cleanupStyles();}x.disconnectObservers();if(x.params.keyboardControl){if(x.disableKeyboardControl){x.disableKeyboardControl();}}if(x.params.mousewheelControl){if(x.disableMousewheelControl){x.disableMousewheelControl();}}if(x.params.a11y&&x.a11y){x.a11y.destroy();}x.emit("onDestroy");if(s!==false){x=null;}};x.init();return x;};c.prototype={defaults:{direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:0.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,keyboardControl:false,mousewheelControl:false,mousewheelForceToAxis:false,hashnav:false,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:0.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,pagination:null,paginationClickable:false,paginationHide:false,paginationBulletRender:null,resistance:true,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:true,},isSafari:(function(){var e=navigator.userAgent.toLowerCase();return(e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0);})(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]";},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1)||(window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1),},device:(function(){var g=navigator.userAgent;var f=g.match(/(Android);?[\s\/]+([\d.]+)?/);var e=g.match(/(iPad).*OS\s([\d_]+)/);var h=!e&&g.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:e||h||e,android:f};})(),support:{touch:(window.Modernizr&&Modernizr.touch===true)||(function(){return !!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch);})(),transforms3d:(window.Modernizr&&Modernizr.csstransforms3d===true)||(function(){var e=document.createElement("div").style;return("webkitPerspective" in e||"MozPerspective" in e||"OPerspective" in e||"MsPerspective" in e||"perspective" in e);})(),flexbox:(function(){var g=document.createElement("div").style;var f=("alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient").split(" ");for(var e=0;e<f.length;e++){if(f[e] in g){return true;}}})(),observer:(function(){return("MutationObserver" in window||"WebkitMutationObserver" in window);})()},plugins:{}};d.Swiper=c;}(Zepto);+function(c){c.Swiper.prototype.defaults.pagination=".page-current .swiper-pagination";c.swiper=function(d,e){return new c.Swiper(d,e);};c.fn.swiper=function(d){return new c.Swiper(this,d);};c.initSwiper=function(h){var j=c(h||document.body);var e=j.find(".swiper-container");if(e.length===0){return;}function g(m){function i(){m.destroy();j.off("pageBeforeRemove",i);}j.on("pageBeforeRemove",i);}for(var f=0;f<e.length;f++){var d=e.eq(f);var k;if(d.data("swiper")){d.data("swiper").update(true);continue;}else{k=d.dataset();}var l=c.swiper(d[0],k);g(l);}};c.reinitSwiper=function(g){var h=c(g||".page-current");var f=h.find(".swiper-container");if(f.length===0){return;}for(var e=0;e<f.length;e++){var d=f[0].swiper;if(d){d.update(true);}}};}(Zepto);+function(d){var c=function(f){var A=this,X;var G=this.defaults;f=f||{};for(var z in G){if(typeof f[z]==="undefined"){f[z]=G[z];}}A.params=f;var Z=A.params.navbarTemplate||'<header class="bar bar-nav"><a class="icon icon-left pull-left photo-browser-close-link'+(A.params.type==="popup"?" close-popup":"")+'"></a><h1 class="title"><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+A.params.ofText+'</span> <span class="photo-browser-total"></span></div></h1></header>';var g=A.params.toolbarTemplate||'<nav class="bar bar-tab"><a class="tab-item photo-browser-prev" href="#"><i class="icon icon-prev"></i></a><a class="tab-item photo-browser-next" href="#"><i class="icon icon-next"></i></a></nav>';var m=A.params.template||'<div class="photo-browser photo-browser-'+A.params.theme+'">{{navbar}}{{toolbar}}<div data-page="photo-browser-slides" class="content">{{captions}}<div class="photo-browser-swiper-container swiper-container"><div class="photo-browser-swiper-wrapper swiper-wrapper">{{photos}}</div></div></div></div>';var e=!A.params.lazyLoading?(A.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>'):(A.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader'+(A.params.theme==="dark"?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}" class="swiper-lazy"></span></div>');var k=A.params.captionsTheme||A.params.theme;var ab=A.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+k+'">{{captions}}</div>';var M=A.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>';var C=A.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{html}}</div>';var P="";var D="";for(X=0;X<A.params.photos.length;X++){var o=A.params.photos[X];var x="";if(typeof(o)==="string"||o instanceof String){if(o.indexOf("<")>=0||o.indexOf(">")>=0){x=C.replace(/{{html}}/g,o);}else{x=e.replace(/{{url}}/g,o);}}else{if(typeof(o)==="object"){if(o.hasOwnProperty("html")&&o.html.length>0){x=C.replace(/{{html}}/g,o.html);}else{if(o.hasOwnProperty("url")&&o.url.length>0){x=e.replace(/{{url}}/g,o.url);}}if(o.hasOwnProperty("caption")&&o.caption.length>0){D+=M.replace(/{{caption}}/g,o.caption).replace(/{{captionIndex}}/g,X);}else{x=x.replace(/{{caption}}/g,"");}}}P+=x;}var aa=m.replace("{{navbar}}",(A.params.navbar?Z:"")).replace("{{noNavbar}}",(A.params.navbar?"":"no-navbar")).replace("{{photos}}",P).replace("{{captions}}",ab.replace(/{{captions}}/g,D)).replace("{{toolbar}}",(A.params.toolbar?g:""));A.activeIndex=A.params.initialSlide;A.openIndex=A.activeIndex;A.opened=false;A.open=function(i){if(typeof i==="undefined"){i=A.activeIndex;}i=parseInt(i,10);if(A.opened&&A.swiper){A.swiper.slideTo(i);return;}A.opened=true;A.openIndex=i;if(A.params.type==="standalone"){d(A.params.container).append(aa);}if(A.params.type==="popup"){A.popup=d.popup('<div class="popup photo-browser-popup">'+aa+"</div>");d(A.popup).on("closed",A.onPopupClose);}if(A.params.type==="page"){d(document).on("pageBeforeInit",A.onPageBeforeInit);d(document).on("pageBeforeRemove",A.onPageBeforeRemove);if(!A.params.view){A.params.view=d.mainView;}A.params.view.loadContent(aa);return;}A.layout(A.openIndex);if(A.params.onOpen){A.params.onOpen(A);}};A.close=function(){A.opened=false;if(!A.swiperContainer||A.swiperContainer.length===0){return;}if(A.params.onClose){A.params.onClose(A);}A.attachEvents(true);if(A.params.type==="standalone"){A.container.removeClass("photo-browser-in").addClass("photo-browser-out").transitionEnd(function(){A.container.remove();});}A.swiper.destroy();A.swiper=A.swiperContainer=A.swiperWrapper=A.slides=r=t=s=undefined;};A.onPopupClose=function(){A.close();d(A.popup).off("pageBeforeInit",A.onPopupClose);};A.onPageBeforeInit=function(i){if(i.detail.page.name==="photo-browser-slides"){A.layout(A.openIndex);}d(document).off("pageBeforeInit",A.onPageBeforeInit);};A.onPageBeforeRemove=function(i){if(i.detail.page.name==="photo-browser-slides"){A.close();}d(document).off("pageBeforeRemove",A.onPageBeforeRemove);};A.onSliderTransitionStart=function(i){A.activeIndex=i.activeIndex;var ah=i.activeIndex+1;var ag=i.slides.length;if(A.params.loop){ag=ag-2;ah=ah-i.loopedSlides;if(ah<1){ah=ag+ah;}if(ah>ag){ah=ah-ag;}}A.container.find(".photo-browser-current").text(ah);A.container.find(".photo-browser-total").text(ag);d(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive");if(i.isBeginning&&!A.params.loop){d(".photo-browser-prev").addClass("photo-browser-link-inactive");}if(i.isEnd&&!A.params.loop){d(".photo-browser-next").addClass("photo-browser-link-inactive");}if(A.captions.length>0){A.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var af=A.params.loop?i.slides.eq(i.activeIndex).attr("data-swiper-slide-index"):A.activeIndex;A.captionsContainer.find('[data-caption-index="'+af+'"]').addClass("photo-browser-caption-active");}var ae=i.slides.eq(i.previousIndex).find("video");if(ae.length>0){if("pause" in ae[0]){ae[0].pause();}}if(A.params.onSlideChangeStart){A.params.onSlideChangeStart(i);}};A.onSliderTransitionEnd=function(i){if(A.params.zoom&&r&&i.previousIndex!==i.activeIndex){t.transform("translate3d(0,0,0) scale(1)");s.transform("translate3d(0,0,0)");r=t=s=undefined;E=l=1;}if(A.params.onSlideChangeEnd){A.params.onSlideChangeEnd(i);}};A.layout=function(i){if(A.params.type==="page"){A.container=d(".photo-browser-swiper-container").parents(".view");}else{A.container=d(".photo-browser");}if(A.params.type==="standalone"){A.container.addClass("photo-browser-in");}A.swiperContainer=A.container.find(".photo-browser-swiper-container");A.swiperWrapper=A.container.find(".photo-browser-swiper-wrapper");A.slides=A.container.find(".photo-browser-slide");A.captionsContainer=A.container.find(".photo-browser-captions");A.captions=A.container.find(".photo-browser-caption");var ae={nextButton:A.params.nextButton||".photo-browser-next",prevButton:A.params.prevButton||".photo-browser-prev",indexButton:A.params.indexButton,initialSlide:i,spaceBetween:A.params.spaceBetween,speed:A.params.speed,loop:A.params.loop,lazyLoading:A.params.lazyLoading,lazyLoadingInPrevNext:A.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:A.params.lazyLoadingOnTransitionStart,preloadImages:A.params.lazyLoading?false:true,onTap:function(af,ag){if(A.params.onTap){A.params.onTap(af,ag);}},onClick:function(af,ag){if(A.params.exposition){A.toggleExposition();}if(A.params.onClick){A.params.onClick(af,ag);}},onDoubleTap:function(af,ag){A.toggleZoom(d(ag.target).parents(".photo-browser-slide"));if(A.params.onDoubleTap){A.params.onDoubleTap(af,ag);}},onTransitionStart:function(af){A.onSliderTransitionStart(af);},onTransitionEnd:function(af){A.onSliderTransitionEnd(af);},onLazyImageLoad:function(ah,af,ag){if(A.params.onLazyImageLoad){A.params.onLazyImageLoad(A,af,ag);}},onLazyImageReady:function(ah,af,ag){d(af).removeClass("photo-browser-slide-lazy");if(A.params.onLazyImageReady){A.params.onLazyImageReady(A,af,ag);}}};if(A.params.swipeToClose&&A.params.type!=="page"){ae.onTouchStart=A.swipeCloseTouchStart;ae.onTouchMoveOpposite=A.swipeCloseTouchMove;ae.onTouchEnd=A.swipeCloseTouchEnd;}A.swiper=d.swiper(A.swiperContainer,ae);if(i===0){A.onSliderTransitionStart(A.swiper);}A.attachEvents();};A.attachEvents=function(af){var i=af?"off":"on";if(A.params.zoom){var ae=A.params.loop?A.swiper.slides:A.slides;ae[i]("gesturestart",A.onSlideGestureStart);ae[i]("gesturechange",A.onSlideGestureChange);ae[i]("gestureend",A.onSlideGestureEnd);ae[i]("touchstart",A.onSlideTouchStart);ae[i]("touchmove",A.onSlideTouchMove);ae[i]("touchend",A.onSlideTouchEnd);}A.container.find(".photo-browser-close-link")[i]("click",A.close);};A.exposed=false;A.toggleExposition=function(){if(A.container){A.container.toggleClass("photo-browser-exposed");}if(A.params.expositionHideCaptions){A.captionsContainer.toggleClass("photo-browser-captions-exposed");}A.exposed=!A.exposed;};A.enableExposition=function(){if(A.container){A.container.addClass("photo-browser-exposed");}if(A.params.expositionHideCaptions){A.captionsContainer.addClass("photo-browser-captions-exposed");}A.exposed=true;};A.disableExposition=function(){if(A.container){A.container.removeClass("photo-browser-exposed");}if(A.params.expositionHideCaptions){A.captionsContainer.removeClass("photo-browser-captions-exposed");}A.exposed=false;};var r,t,s,E=1,l=1,L=false;A.onSlideGestureStart=function(){if(!r){r=d(this);t=r.find("img, svg, canvas");s=t.parent(".photo-browser-zoom-container");if(s.length===0){t=undefined;return;}}t.transition(0);L=true;};A.onSlideGestureChange=function(i){if(!t||t.length===0){return;}E=i.scale*l;if(E>A.params.maxZoom){E=A.params.maxZoom-1+Math.pow((E-A.params.maxZoom+1),0.5);}if(E<A.params.minZoom){E=A.params.minZoom+1-Math.pow((A.params.minZoom-E+1),0.5);}t.transform("translate3d(0,0,0) scale("+E+")");};A.onSlideGestureEnd=function(){if(!t||t.length===0){return;}E=Math.max(Math.min(E,A.params.maxZoom),A.params.minZoom);t.transition(A.params.speed).transform("translate3d(0,0,0) scale("+E+")");l=E;L=false;if(E===1){r=undefined;}};A.toggleZoom=function(){if(!r){r=A.swiper.slides.eq(A.swiper.activeIndex);t=r.find("img, svg, canvas");s=t.parent(".photo-browser-zoom-container");}if(!t||t.length===0){return;}s.transition(300).transform("translate3d(0,0,0)");if(E&&E!==1){E=l=1;t.transition(300).transform("translate3d(0,0,0) scale(1)");r=undefined;}else{E=l=A.params.maxZoom;t.transition(300).transform("translate3d(0,0,0) scale("+E+")");}};var y,B,q,p,J,F,w,v,ad,I,ac={},U={},j,h,T,H,W,S,V;A.onSlideTouchStart=function(i){if(!t||t.length===0){return;}if(y){return;}if(d.device.os==="android"){i.preventDefault();}y=true;ac.x=i.type==="touchstart"?i.targetTouches[0].pageX:i.pageX;ac.y=i.type==="touchstart"?i.targetTouches[0].pageY:i.pageY;};A.onSlideTouchMove=function(af){if(!t||t.length===0){return;}A.swiper.allowClick=false;if(!y||!r){return;}if(!B){ad=t[0].offsetWidth;I=t[0].offsetHeight;j=d.getTranslate(s[0],"x")||0;h=d.getTranslate(s[0],"y")||0;s.transition(0);}var i=ad*E;var ae=I*E;if(i<A.swiper.width&&ae<A.swiper.height){return;}J=Math.min((A.swiper.width/2-i/2),0);w=-J;F=Math.min((A.swiper.height/2-ae/2),0);v=-F;U.x=af.type==="touchmove"?af.targetTouches[0].pageX:af.pageX;U.y=af.type==="touchmove"?af.targetTouches[0].pageY:af.pageY;if(!B&&!L){if((Math.floor(J)===Math.floor(j)&&U.x<ac.x)||(Math.floor(w)===Math.floor(j)&&U.x>ac.x)){y=false;return;}}af.preventDefault();af.stopPropagation();B=true;q=U.x-ac.x+j;p=U.y-ac.y+h;if(q<J){q=J+1-Math.pow((J-q+1),0.8);}if(q>w){q=w-1+Math.pow((q-w+1),0.8);}if(p<F){p=F+1-Math.pow((F-p+1),0.8);}if(p>v){p=v-1+Math.pow((p-v+1),0.8);}if(!T){T=U.x;}if(!S){S=U.y;}if(!H){H=Date.now();}W=(U.x-T)/(Date.now()-H)/2;V=(U.y-S)/(Date.now()-H)/2;if(Math.abs(U.x-T)<2){W=0;}if(Math.abs(U.y-S)<2){V=0;}T=U.x;S=U.y;H=Date.now();s.transform("translate3d("+q+"px, "+p+"px,0)");};A.onSlideTouchEnd=function(){if(!t||t.length===0){return;}if(!y||!B){y=false;B=false;return;}y=false;B=false;var al=300;var ak=300;var ae=W*al;var ah=q+ae;var i=V*ak;var ag=p+i;if(W!==0){al=Math.abs((ah-q)/W);}if(V!==0){ak=Math.abs((ag-p)/V);}var ai=Math.max(al,ak);q=ah;p=ag;var af=ad*E;var aj=I*E;J=Math.min((A.swiper.width/2-af/2),0);w=-J;F=Math.min((A.swiper.height/2-aj/2),0);v=-F;q=Math.max(Math.min(q,w),J);p=Math.max(Math.min(p,v),F);s.transition(ai).transform("translate3d("+q+"px, "+p+"px,0)");};var K=false;var R=true;var Y,O,u,Q=false,N,n;A.swipeCloseTouchStart=function(){if(!R){return;}K=true;};A.swipeCloseTouchMove=function(i,af){if(!K){return;}if(!Q){Q=true;O=af.type==="touchmove"?af.targetTouches[0].pageY:af.pageY;N=A.swiper.slides.eq(A.swiper.activeIndex);n=(new Date()).getTime();}af.preventDefault();u=af.type==="touchmove"?af.targetTouches[0].pageY:af.pageY;Y=O-u;var ae=1-Math.abs(Y)/300;N.transform("translate3d(0,"+(-Y)+"px,0)");A.swiper.container.css("opacity",ae).transition(0);};A.swipeCloseTouchEnd=function(){K=false;if(!Q){Q=false;return;}Q=false;R=false;var i=Math.abs(Y);var ae=(new Date()).getTime()-n;if((ae<300&&i>20)||(ae>=300&&i>100)){setTimeout(function(){if(A.params.type==="standalone"){A.close();}if(A.params.type==="popup"){d.closeModal(A.popup);}if(A.params.onSwipeToClose){A.params.onSwipeToClose(A);}R=true;},0);return;}if(i!==0){N.addClass("transitioning").transitionEnd(function(){R=true;N.removeClass("transitioning");});}else{R=true;}A.swiper.container.css("opacity","").transition("");N.transform("");};return A;};c.prototype={defaults:{photos:[],container:"body",initialSlide:0,spaceBetween:20,speed:300,zoom:true,maxZoom:3,minZoom:1,exposition:true,expositionHideCaptions:false,type:"standalone",navbar:true,toolbar:true,theme:"light",swipeToClose:true,backLinkText:"Close",ofText:"of",loop:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,}};d.photoBrowser=function(e){d.extend(e,d.photoBrowser.prototype.defaults);return new c(e);};d.photoBrowser.prototype={defaults:{}};}(Zepto);return b;});